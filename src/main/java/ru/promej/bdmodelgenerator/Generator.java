package ru.promej.bdmodelgenerator;

import org.mineskin.JsoupRequestHandler;
import org.mineskin.MineSkinClient;
import ru.promej.bdmodelgenerator.utils.MojangAPI;
import ru.promej.bdmodelgenerator.utils.SkinManager;
import ru.promej.bdmodelgenerator.utils.Utils;

import java.awt.image.BufferedImage;
import java.text.SimpleDateFormat;
import java.util.Date;
import java.util.HashMap;
import java.util.Map;
import java.util.concurrent.CompletableFuture;
import java.util.concurrent.CompletionStage;

import static ru.promej.bdmodelgenerator.Main.*;

public class Generator {

    public static boolean validCape(String data, String apiKey) {

        if (data.contains("http")) {
            if (Utils.isPngUrl(data)) {
                BufferedImage baseSkin = Utils.getSkin(data);
                if (Utils.validCapeSize(baseSkin)) {
                    sendLogBlue("The cape model is being generated, please wait!");
                    generateCape(baseSkin, apiKey);
                    return true;
                } else {
                    sendLogRed("Texture size should be 64x32");
                    return false;
                }
            } else {
                sendLogRed("This link does not the image!");
                return false;
            }
        } else {
            sendLogRed("Only png links are allowed!");
            return false;
        }

    }

    public static void generateCape(BufferedImage capeSkin, String apiKey) {
        MineSkinClient client = MineSkinClient.builder().requestHandler(JsoupRequestHandler::new).userAgent("BDModelGenerator/v1.0").apiKey(apiKey).build();
        GenerateModelThread thread = new GenerateModelThread(apiKey, client, capeSkin, false, "cape");
        thread.start();
    }

    public static boolean validSleep(String data, String apiKey) {
        return validSkinTypeModel(data, apiKey, "sleep");
    }

    public static boolean validFakeSteve(String data, String apiKey) {
        return validSkinTypeModel(data, apiKey, "fakeSteve");
    }

    public static boolean validPlushe(String data, String apiKey) {
        return validSkinTypeModel(data, apiKey, "plushe");
    }

    public static boolean validMojang(String data, String apiKey) {
        return validSkinTypeModel(data, apiKey, "mojang");
    }

    public static boolean validSkinTypeModel(String data, String apiKey, String modelType) {
        boolean isUrl = Utils.isPngUrl(data);
        if (data.contains("http")) {
            if (isUrl) {
                BufferedImage baseSkin = Utils.getSkin(data);
                if (Utils.validSkinSize(baseSkin)) {
                    generateSkinTypeModel(baseSkin, apiKey, modelType);
                    sendLogBlue("The "+modelType+" model is being generated, please wait!");
                    return true;
                } else {
                    baseSkin = SkinManager.fixLegacy(baseSkin);
                    generateSkinTypeModel(baseSkin, apiKey, modelType);
                    sendLogOrange("The skin probably has a legacy format, the result may be distorted, use the new skin format (64x64).");
                    sendLogBlue("The "+modelType+" model is being generated, please wait!");
                    return true;
                }
            } else {
                sendLogRed("This link does not the image!");
                return false;
            }
        } else if (MojangAPI.validateName(data)) {
            String textureUrl = MojangAPI.getSkinByName(data);
            BufferedImage baseSkin = Utils.getSkin(textureUrl.replaceAll("http", "https"));
            if (Utils.validSkinSize(baseSkin)) {
                generateSkinTypeModel(baseSkin, apiKey, modelType);
                sendLogGreen("The "+modelType+" model is being generated, please wait!");
                return true;
            } else {
                baseSkin = SkinManager.fixLegacy(baseSkin);
                generateSkinTypeModel(baseSkin, apiKey, modelType);
                sendLogOrange("The skin probably has a legacy format, the result may be distorted, use the new skin format (64x64).");
                sendLogBlue("The "+modelType+" model is being generated, please wait!");
                return true;
            }
        } else {
            sendLogRed("Please provide a valid premium nickname!");
            return false;
        }
    }



    public static void generateSkinTypeModel(BufferedImage baseSkin, String apiKey, String modelType) {
        boolean slim;
        MineSkinClient client = MineSkinClient.builder().requestHandler(JsoupRequestHandler::new).userAgent("BDModelGenerator/v1.0").apiKey(apiKey).build();
        boolean bl = slim = baseSkin.getRGB(54, 20) == 0 && baseSkin.getRGB(50, 16) == 0;
        if (slim) {
            baseSkin = SkinManager.fixSlim(baseSkin);
        }
        GenerateModelThread thread = new GenerateModelThread(apiKey, client, baseSkin, slim, modelType);
        thread.start();
    }

    static class GenerateModelThread extends Thread {

        MineSkinClient client;
        boolean slim;
        BufferedImage baseSkin;
        String type;

        GenerateModelThread(String name, MineSkinClient client, BufferedImage bufferedImage, boolean slim, String modelType) {
            super(name);
            this.client = client;
            this.slim = slim;
            this.baseSkin = bufferedImage;
            this.type = modelType;
        }

        @Override
        public void run() {

            if (this.type.contains("cape")) {
                this.upCape();
            }

            if (this.type.contains("plushe")) {
                this.upPlushe();
            }

            if (this.type.contains("mojang")) {
                this.upMojang();
            }

            if (this.type.contains("sleep")) {
                this.upSleep();
            }

            if (this.type.contains("fakeSteve")) {
                this.upFakeSteve();
            }
        }

        void upFakeSteve() {
            GenerateModelThread.uploadFakeSteve(this.baseSkin, this.client).thenAccept(response -> {
                String placeholderCmd = "/summon block_display ~-0.5 ~-0.5 ~-0.5 {Passengers:[{id:\"minecraft:item_display\",item:{id:\"minecraft:player_head\",Count:1,components:{\"minecraft:profile\":{id:[I;1317659171,1938555806,-1234130410,-1781182048],properties:[{name:\"textures\",value:\"head1\"}]}}},item_display:\"none\",transformation:[-1f,0f,0f,0.484375f,0f,1f,0f,0.5002423905f,0f,0f,-0.125f,0.7167063357f,0f,0f,0f,1f]},{id:\"minecraft:item_display\",item:{id:\"minecraft:player_head\",Count:1,components:{\"minecraft:profile\":{id:[I;40548572,298576305,1296709565,-1200694071],properties:[{name:\"textures\",value:\"head2\"}]}}},item_display:\"none\",transformation:[-1f,0f,0f,0.484375f,0f,0.5f,0f,0.7502423905f,0f,0f,-0.125f,0.7167063357f,0f,0f,0f,1f]},{id:\"minecraft:item_display\",item:{id:\"minecraft:player_head\",Count:1,components:{\"minecraft:profile\":{id:[I;401375468,-1176566726,585489945,771065453],properties:[{name:\"textures\",value:\"head3\"}]}}},item_display:\"none\",transformation:[-1f,0f,0f,0.734375f,0f,1f,0f,1.2502423905f,0f,0f,-0.125f,0.7167063357f,0f,0f,0f,1f]},{id:\"minecraft:item_display\",item:{id:\"minecraft:player_head\",Count:1,components:{\"minecraft:profile\":{id:[I;-733356609,-1653439531,1067163629,-918939689],properties:[{name:\"textures\",value:\"head4\"}]}}},item_display:\"none\",transformation:[-1f,0f,0f,0.234375f,0f,1f,0f,1.2502423905f,0f,0f,-0.125f,0.7167063357f,0f,0f,0f,1f]},{id:\"minecraft:item_display\",item:{id:\"minecraft:player_head\",Count:1,components:{\"minecraft:profile\":{id:[I;-2104595839,1875061583,2014736938,2130477522],properties:[{name:\"textures\",value:\"head5\"}]}}},item_display:\"none\",transformation:[-1f,0f,0f,0.734375f,0f,0.5f,0f,1.5002423905f,0f,0f,-0.125f,0.7167063357f,0f,0f,0f,1f]},{id:\"minecraft:item_display\",item:{id:\"minecraft:player_head\",Count:1,components:{\"minecraft:profile\":{id:[I;1987143816,-1072786049,-1596607699,-1573693307],properties:[{name:\"textures\",value:\"head6\"}]}}},item_display:\"none\",transformation:[-1f,0f,0f,0.234375f,0f,0.5f,0f,1.5002423905f,0f,0f,-0.125f,0.7167063357f,0f,0f,0f,1f]},{id:\"minecraft:item_display\",item:{id:\"minecraft:player_head\",Count:1,components:{\"minecraft:profile\":{id:[I;2063060261,2112136134,-836560750,1720274090],properties:[{name:\"textures\",value:\"head7\"}]}}},item_display:\"none\",transformation:[-1f,0f,0f,0.484375f,0f,1f,0f,2.0002423905f,0f,0f,-0.125f,0.7167063357f,0f,0f,0f,1f]},{id:\"minecraft:item_display\",item:{id:\"minecraft:player_head\",Count:1,components:{\"minecraft:profile\":{id:[I;-894263039,1153281065,-260301316,-1353984713],properties:[{name:\"textures\",value:\"ewogICJ0aW1lc3RhbXAiIDogMTczNjc5MTM3ODkyOSwKICAicHJvZmlsZUlkIiA6ICI1MzE4YWJhNDJiMTk0ODNiODFiMWY2N2Y1ODVjNDdkNSIsCiAgInByb2ZpbGVOYW1lIiA6ICJocHllZiIsCiAgInNpZ25hdHVyZVJlcXVpcmVkIiA6IHRydWUsCiAgInRleHR1cmVzIiA6IHsKICAgICJTS0lOIiA6IHsKICAgICAgInVybCIgOiAiaHR0cDovL3RleHR1cmVzLm1pbmVjcmFmdC5uZXQvdGV4dHVyZS8zYmIwNDk0NzZhZjgzNTkwOWEzYWMwOTc1ZDNhZTUzODcyZDI3OTgyNDg0N2I3NzU3ZTAwMjMwYzJhZWIzMWIyIgogICAgfQogIH0KfQ==\"}]}}},item_display:\"none\",transformation:[0f,-0.5f,0f,0.359375f,-0.8897352711f,1e-10f,0.0570596107f,0.6789923905f,-0.4564768858f,-1e-10f,-0.1112169089f,0.5992063357f,0f,0f,0f,1f]},{id:\"minecraft:item_display\",item:{id:\"minecraft:player_head\",Count:1,components:{\"minecraft:profile\":{id:[I;1382856424,2058426162,801948942,-465648030],properties:[{name:\"textures\",value:\"ewogICJ0aW1lc3RhbXAiIDogMTczNjc5MTM4NDY0OCwKICAicHJvZmlsZUlkIiA6ICIzNDYyZDUwYmZjNGY0NWYxOGM5NTA2MzgwOWY4YzRhZSIsCiAgInByb2ZpbGVOYW1lIiA6ICJORGhwIiwKICAic2lnbmF0dXJlUmVxdWlyZWQiIDogdHJ1ZSwKICAidGV4dHVyZXMiIDogewogICAgIlNLSU4iIDogewogICAgICAidXJsIiA6ICJodHRwOi8vdGV4dHVyZXMubWluZWNyYWZ0Lm5ldC90ZXh0dXJlLzUwOGUzYzIyNjM2ZTE0OTJhOWNiN2E2MDhlNTNiMjRjZmIwNDIzZjhmNzhjMGI0MWQ3MzZkNjhiNzM3MmUwMzIiCiAgICB9CiAgfQp9\"}]}}},item_display:\"none\",transformation:[0f,-0.5f,0f,0.359375f,-0.8897352711f,1e-10f,0.0570596107f,0.2339923905f,-0.4564768858f,-1e-10f,-0.1112169089f,0.3710813357f,0f,0f,0f,1f]}]}";
                String placeholderModel = "[{\"isCollection\":true,\"name\":\"Project\",\"nbt\":\"\",\"transforms\":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],\"children\":[{\"isItemDisplay\":true,\"name\":\"player_head[display=none]\",\"brightness\":{\"sky\":15,\"block\":0},\"nbt\":\"\",\"tagHead\":{\"Value\":\"head1\"},\"textureValueList\":[],\"paintTexture\":null,\"transforms\":[-1,1.2246467991473532e-16,0,0.484375,1.2246467991473532e-16,1,1.5308084989341915e-17,0.5002423905,1.4997597826618576e-32,1.2246467991473532e-16,-0.125,0.7167063357,0,0,0,1],\"defaultTextureValue\":\"head1\"},{\"isItemDisplay\":true,\"name\":\"player_head[display=none]\",\"brightness\":{\"sky\":15,\"block\":0},\"nbt\":\"\",\"tagHead\":{\"Value\":\"head2\"},\"textureValueList\":[],\"paintTexture\":null,\"transforms\":[-1,6.123233995736766e-17,0,0.484375,1.2246467991473532e-16,0.5,1.5308084989341915e-17,0.7502423905,1.4997597826618576e-32,6.123233995736766e-17,-0.125,0.7167063357,0,0,0,1],\"defaultTextureValue\":\"head2\"},{\"isItemDisplay\":true,\"name\":\"player_head[display=none]\",\"brightness\":{\"sky\":15,\"block\":0},\"nbt\":\"\",\"tagHead\":{\"Value\":\"head3\"},\"textureValueList\":[],\"paintTexture\":null,\"transforms\":[-1,1.2246467991473532e-16,0,0.734375,1.2246467991473532e-16,1,1.5308084989341915e-17,1.2502423905,1.4997597826618576e-32,1.2246467991473532e-16,-0.125,0.7167063357,0,0,0,1],\"defaultTextureValue\":\"head3\"},{\"isItemDisplay\":true,\"name\":\"player_head[display=none]\",\"brightness\":{\"sky\":15,\"block\":0},\"nbt\":\"\",\"tagHead\":{\"Value\":\"head4\"},\"textureValueList\":[],\"paintTexture\":null,\"transforms\":[-1,1.2246467991473532e-16,0,0.234375,1.2246467991473532e-16,1,1.5308084989341915e-17,1.2502423905,1.4997597826618576e-32,1.2246467991473532e-16,-0.125,0.7167063357,0,0,0,1],\"defaultTextureValue\":\"head4\"},{\"isItemDisplay\":true,\"name\":\"player_head[display=none]\",\"brightness\":{\"sky\":15,\"block\":0},\"nbt\":\"\",\"tagHead\":{\"Value\":\"head5\"},\"textureValueList\":[],\"paintTexture\":null,\"transforms\":[-1,6.123233995736766e-17,0,0.734375,1.2246467991473532e-16,0.5,1.5308084989341915e-17,1.5002423905,1.4997597826618576e-32,6.123233995736766e-17,-0.125,0.7167063357,0,0,0,1],\"defaultTextureValue\":\"head5\"},{\"isItemDisplay\":true,\"name\":\"player_head[display=none]\",\"brightness\":{\"sky\":15,\"block\":0},\"nbt\":\"\",\"tagHead\":{\"Value\":\"head6\"},\"textureValueList\":[],\"paintTexture\":null,\"transforms\":[-1,6.123233995736766e-17,0,0.234375,1.2246467991473532e-16,0.5,1.5308084989341915e-17,1.5002423905,1.4997597826618576e-32,6.123233995736766e-17,-0.125,0.7167063357,0,0,0,1],\"defaultTextureValue\":\"head6\"},{\"isItemDisplay\":true,\"name\":\"player_head[display=none]\",\"brightness\":{\"sky\":15,\"block\":0},\"nbt\":\"\",\"tagHead\":{\"Value\":\"head7\"},\"textureValueList\":[],\"paintTexture\":null,\"transforms\":[-1,1.2246467991473532e-16,0,0.484375,1.2246467991473532e-16,1,1.5308084989341915e-17,2.0002423905,1.4997597826618576e-32,1.2246467991473532e-16,-0.125,0.7167063357,0,0,0,1],\"defaultTextureValue\":\"head7\"},{\"isItemDisplay\":true,\"name\":\"player_head[display=none]\",\"brightness\":{\"sky\":15,\"block\":0},\"nbt\":\"\",\"tagHead\":{\"Value\":\"ewogICJ0aW1lc3RhbXAiIDogMTczNjc5MTM3ODkyOSwKICAicHJvZmlsZUlkIiA6ICI1MzE4YWJhNDJiMTk0ODNiODFiMWY2N2Y1ODVjNDdkNSIsCiAgInByb2ZpbGVOYW1lIiA6ICJocHllZiIsCiAgInNpZ25hdHVyZVJlcXVpcmVkIiA6IHRydWUsCiAgInRleHR1cmVzIiA6IHsKICAgICJTS0lOIiA6IHsKICAgICAgInVybCIgOiAiaHR0cDovL3RleHR1cmVzLm1pbmVjcmFmdC5uZXQvdGV4dHVyZS8zYmIwNDk0NzZhZjgzNTkwOWEzYWMwOTc1ZDNhZTUzODcyZDI3OTgyNDg0N2I3NzU3ZTAwMjMwYzJhZWIzMWIyIgogICAgfQogIH0KfQ==\"},\"textureValueList\":[],\"paintTexture\":null,\"transforms\":[-4.8497428295361196e-11,-0.49999999997575134,2.3712750509854166e-11,0.359375,-0.8897352711440017,6.487221870484363e-11,0.05705961071819511,0.6789923905,-0.4564768858079918,-7.33233057568195e-11,-0.11121690887778943,0.5992063357,0,0,0,1],\"defaultTextureValue\":\"ewogICJ0aW1lc3RhbXAiIDogMTczNjc5MTM3ODkyOSwKICAicHJvZmlsZUlkIiA6ICI1MzE4YWJhNDJiMTk0ODNiODFiMWY2N2Y1ODVjNDdkNSIsCiAgInByb2ZpbGVOYW1lIiA6ICJocHllZiIsCiAgInNpZ25hdHVyZVJlcXVpcmVkIiA6IHRydWUsCiAgInRleHR1cmVzIiA6IHsKICAgICJTS0lOIiA6IHsKICAgICAgInVybCIgOiAiaHR0cDovL3RleHR1cmVzLm1pbmVjcmFmdC5uZXQvdGV4dHVyZS8zYmIwNDk0NzZhZjgzNTkwOWEzYWMwOTc1ZDNhZTUzODcyZDI3OTgyNDg0N2I3NzU3ZTAwMjMwYzJhZWIzMWIyIgogICAgfQogIH0KfQ==\"},{\"isItemDisplay\":true,\"name\":\"player_head[display=none]\",\"brightness\":{\"sky\":15,\"block\":0},\"nbt\":\"\",\"tagHead\":{\"Value\":\"ewogICJ0aW1lc3RhbXAiIDogMTczNjc5MTM4NDY0OCwKICAicHJvZmlsZUlkIiA6ICIzNDYyZDUwYmZjNGY0NWYxOGM5NTA2MzgwOWY4YzRhZSIsCiAgInByb2ZpbGVOYW1lIiA6ICJORGhwIiwKICAic2lnbmF0dXJlUmVxdWlyZWQiIDogdHJ1ZSwKICAidGV4dHVyZXMiIDogewogICAgIlNLSU4iIDogewogICAgICAidXJsIiA6ICJodHRwOi8vdGV4dHVyZXMubWluZWNyYWZ0Lm5ldC90ZXh0dXJlLzUwOGUzYzIyNjM2ZTE0OTJhOWNiN2E2MDhlNTNiMjRjZmIwNDIzZjhmNzhjMGI0MWQ3MzZkNjhiNzM3MmUwMzIiCiAgICB9CiAgfQp9\"},\"textureValueList\":[],\"paintTexture\":null,\"transforms\":[-4.8497428295361196e-11,-0.49999999997575134,2.3712750509854166e-11,0.359375,-0.8897352711440017,6.487221870484363e-11,0.05705961071819511,0.2339923905,-0.4564768858079918,-7.33233057568195e-11,-0.11121690887778943,0.3710813357,0,0,0,1],\"defaultTextureValue\":\"ewogICJ0aW1lc3RhbXAiIDogMTczNjc5MTM4NDY0OCwKICAicHJvZmlsZUlkIiA6ICIzNDYyZDUwYmZjNGY0NWYxOGM5NTA2MzgwOWY4YzRhZSIsCiAgInByb2ZpbGVOYW1lIiA6ICJORGhwIiwKICAic2lnbmF0dXJlUmVxdWlyZWQiIDogdHJ1ZSwKICAidGV4dHVyZXMiIDogewogICAgIlNLSU4iIDogewogICAgICAidXJsIiA6ICJodHRwOi8vdGV4dHVyZXMubWluZWNyYWZ0Lm5ldC90ZXh0dXJlLzUwOGUzYzIyNjM2ZTE0OTJhOWNiN2E2MDhlNTNiMjRjZmIwNDIzZjhmNzhjMGI0MWQ3MzZkNjhiNzM3MmUwMzIiCiAgICB9CiAgfQp9\"}]}]";
                placeholderCmd = placeholderCmd.replaceAll("head1", response.get("head1"));
                placeholderCmd = placeholderCmd.replaceAll("head2", response.get("head2"));
                placeholderCmd = placeholderCmd.replaceAll("head3", response.get("head3"));
                placeholderCmd = placeholderCmd.replaceAll("head4", response.get("head4"));
                placeholderCmd = placeholderCmd.replaceAll("head5", response.get("head5"));
                placeholderCmd = placeholderCmd.replaceAll("head6", response.get("head6"));
                placeholderCmd = placeholderCmd.replaceAll("head7", response.get("head7"));
                placeholderModel = placeholderModel.replaceAll("head1", response.get("head1"));
                placeholderModel = placeholderModel.replaceAll("head2", response.get("head2"));
                placeholderModel = placeholderModel.replaceAll("head3", response.get("head3"));
                placeholderModel = placeholderModel.replaceAll("head4", response.get("head4"));
                placeholderModel = placeholderModel.replaceAll("head5", response.get("head5"));
                placeholderModel = placeholderModel.replaceAll("head6", response.get("head6"));
                placeholderModel = placeholderModel.replaceAll("head7", response.get("head7"));

                String timeStamp = new SimpleDateFormat("HH-mm-ss").format(new Date());


                showDialog("fakeSteve_cmd_"+timeStamp+".txt", placeholderCmd, "fakeSteve_model_"+timeStamp+".bdengine", placeholderModel);
            });
        }

        void upCape() {
            GenerateModelThread.uploadCape(this.baseSkin, this.client).thenAccept(response -> {
                String placeholderCmd = "/summon block_display ~-0.5 ~-0.5 ~-0.5 {Passengers:[{id:\"minecraft:item_display\",item:{id:\"minecraft:player_head\",Count:1,tag:{\"SkullOwner\":{\"Id\":[I;841973318,1559534668,-1505430383,-2080512014],\"Name\":\"textures\",\"Properties\":{\"textures\":[{\"Value\":\"cape2\"}]}}}},item_display:\"none\",transformation:[1f,0f,0f,0.0625f,0f,1f,0f,0.5f,0f,0f,0.1f,0f,0f,0f,0f,1f]},{id:\"minecraft:item_display\",item:{id:\"minecraft:player_head\",Count:1,tag:{\"SkullOwner\":{\"Id\":[I;1609411612,1230555902,1409753989,620152179],\"Name\":\"textures\",\"Properties\":{\"textures\":[{\"Value\":\"cape1\"}]}}}},item_display:\"none\",transformation:[1f,0f,0f,0.0625f,0f,1f,0f,1f,0f,0f,0.1f,0f,0f,0f,0f,1f]},{id:\"minecraft:item_display\",item:{id:\"minecraft:player_head\",Count:1,tag:{\"SkullOwner\":{\"Id\":[I;629862618,-406379466,921524969,1606991389],\"Name\":\"textures\",\"Properties\":{\"textures\":[{\"Value\":\"cape3\"}]}}}},item_display:\"none\",transformation:[0.2f,0f,0f,-0.2369f,0f,1f,0f,1f,0f,0f,0.1f,0f,0f,0f,0f,1f]},{id:\"minecraft:item_display\",item:{id:\"minecraft:player_head\",Count:1,tag:{\"SkullOwner\":{\"Id\":[I;-968266829,-1693465733,486990720,-1084904590],\"Name\":\"textures\",\"Properties\":{\"textures\":[{\"Value\":\"cape4\"}]}}}},item_display:\"none\",transformation:[0.2f,0f,0f,-0.2369f,0f,1f,0f,0.5f,0f,0f,0.1f,0f,0f,0f,0f,1f]}]}";
                String placeholderModel = "[{\"isCollection\":true,\"name\":\"Project\",\"nbt\":\"\",\"settings\":{\"defaultBrightness\":false},\"mainNBT\":\"\",\"transforms\":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],\"children\":[{\"isItemDisplay\":true,\"name\":\"player_head[display=none]\",\"brightness\":{\"sky\":15,\"block\":0},\"nbt\":\"\",\"tagHead\":{\"Value\":\"cape2\"},\"customTexture\":null,\"transforms\":[1,0,0,0.0625,0,1,0,0.5,0,0,0.1,0,0,0,0,1]},{\"isItemDisplay\":true,\"name\":\"player_head[display=none]\",\"brightness\":{\"sky\":15,\"block\":0},\"nbt\":\"\",\"tagHead\":{\"Value\":\"cape1\"},\"customTexture\":null,\"transforms\":[1,0,0,0.0625,0,1,0,1,0,0,0.1,0,0,0,0,1]},{\"isItemDisplay\":true,\"name\":\"player_head[display=none]\",\"brightness\":{\"sky\":15,\"block\":0},\"nbt\":\"\",\"tagHead\":{\"Value\":\"cape3\"},\"customTexture\":null,\"transforms\":[0.2,0,0,-0.2369,0,1,0,1,0,0,0.1,0,0,0,0,1]},{\"isItemDisplay\":true,\"name\":\"player_head[display=none]\",\"brightness\":{\"sky\":15,\"block\":0},\"nbt\":\"\",\"tagHead\":{\"Value\":\"cape4\"},\"customTexture\":null,\"transforms\":[0.2,0,0,-0.2369,0,1,0,0.5,0,0,0.1,0,0,0,0,1]}]}]";
                placeholderCmd = placeholderCmd.replaceAll("cape1", response.get("cape1"));
                placeholderCmd = placeholderCmd.replaceAll("cape2", response.get("cape2"));
                placeholderCmd = placeholderCmd.replaceAll("cape3", response.get("cape3"));
                placeholderCmd = placeholderCmd.replaceAll("cape4", response.get("cape4"));
                placeholderModel = placeholderModel.replaceAll("cape1", response.get("cape1"));
                placeholderModel = placeholderModel.replaceAll("cape2", response.get("cape2"));
                placeholderModel = placeholderModel.replaceAll("cape3", response.get("cape3"));
                placeholderModel = placeholderModel.replaceAll("cape4", response.get("cape4"));

                String timeStamp = new SimpleDateFormat("HH-mm-ss").format(new Date());

                showDialog("cape_cmd_"+timeStamp+".txt", placeholderCmd, "cape_model_"+timeStamp+".bdengine", placeholderModel);
            });
        }

        void upSleep() {
            GenerateModelThread.uploadSkins(this.baseSkin, this.client, "Sleep Animation").thenAcceptAsync(response -> {
                String placeholderCmd = "/summon block_display ~-0.5 ~-0.5 ~-0.5 {Passengers:[{id:\"minecraft:item_display\",item:{id:\"minecraft:player_head\",Count:1,components:{\"minecraft:profile\":{id:[I;208434278,-1443824600,1873414804,-284605614],properties:[{name:\"textures\",value:\"plcright_leg1\"}]}}},item_display:\"none\",transformation:[0.4998730866f,-0.0008724433f,0.0112564226f,0.125f,0.0112531848f,0.0841799858f,-0.4980981814f,0.125f,-0.0005130031f,0.9964501838f,0.0420891271f,-0.0625f,0f,0f,0f,1f]},{id:\"minecraft:item_display\",item:{id:\"minecraft:player_head\",Count:1,components:{\"minecraft:profile\":{id:[I;-279045272,1861949100,1104162432,1419829751],properties:[{name:\"textures\",value:\"plcright_leg2\"}]}}},item_display:\"none\",transformation:[0.4998730866f,-0.0004362217f,0.0112564226f,0.1254362217f,0.0112531848f,0.0420899929f,-0.4980981814f,0.0829100071f,-0.0005130031f,0.4982250919f,0.0420891271f,-0.5607250919f,0f,0f,0f,1f]},{id:\"minecraft:item_display\",item:{id:\"minecraft:player_head\",Count:1,components:{\"minecraft:profile\":{id:[I;-1093395368,1941281783,1427268584,-263966035],properties:[{name:\"textures\",value:\"plcleft_leg1\"}]}}},item_display:\"none\",transformation:[0.4331209025f,0.4991175285f,0.0112564226f,-0.125f,-0.0112994526f,0.084155191f,-0.4980981814f,0.125f,-0.2495568196f,0.8624381697f,0.0420891271f,0f,0f,0f,0f,1f]},{id:\"minecraft:item_display\",item:{id:\"minecraft:player_head\",Count:1,components:{\"minecraft:profile\":{id:[I;1249110010,480998159,1695197031,-962154370],properties:[{name:\"textures\",value:\"plcleft_leg2\"}]}}},item_display:\"none\",transformation:[0.4331209025f,0.2495587642f,0.0112564226f,-0.3745587642f,-0.0112994526f,0.0420775955f,-0.4980981814f,0.0829224045f,-0.2495568196f,0.4312190849f,0.0420891271f,-0.4312190849f,0f,0f,0f,1f]},{id:\"minecraft:item_display\",item:{id:\"minecraft:player_head\",Count:1,components:{\"minecraft:profile\":{id:[I;1466251921,728024454,-1286022498,-2028666050],properties:[{name:\"textures\",value:\"plcbody1\"}]}}},item_display:\"none\",transformation:[0.9702957263f,0f,0.1209609478f,-0.0048296291f,0f,1f,0f,0.875f,-0.2419218956f,0f,0.4851478631f,0.0012940952f,0f,0f,0f,1f]},{id:\"minecraft:item_display\",item:{id:\"minecraft:player_head\",Count:1,components:{\"minecraft:profile\":{id:[I;-1629025671,1786378490,275674825,50018801],properties:[{name:\"textures\",value:\"plcbody2\"}]}}},item_display:\"none\",transformation:[0.9702957263f,0f,0.1209609478f,-0.0048296291f,0f,0.5f,0f,0.375f,-0.2419218956f,0f,0.4851478631f,0.0012940952f,0f,0f,0f,1f]},{id:\"minecraft:item_display\",item:{id:\"minecraft:player_head\",Count:1,components:{\"minecraft:profile\":{id:[I;1296049689,-467894536,-1624248980,1650329906],properties:[{name:\"textures\",value:\"plcright_arm1\"}]}}},item_display:\"none\",transformation:[0.4828127075f,-0.0129113834f,0.1293258894f,0.3589567876f,0.0085461697f,0.4996037766f,0.0179730185f,0.8770374866f,-0.1296875185f,-0.0151447215f,0.4826507899f,-0.1009128213f,0f,0f,0f,1f]},{id:\"minecraft:item_display\",item:{id:\"minecraft:player_head\",Count:1,components:{\"minecraft:profile\":{id:[I;929595572,-834990546,-317472472,322142560],properties:[{name:\"textures\",value:\"plcright_arm2\"}]}}},item_display:\"none\",transformation:[0.4828127075f,-0.0258227668f,0.1293258894f,0.3654124793f,0.0085461697f,0.9992075532f,0.0179730185f,0.6272355983f,-0.1296875185f,-0.0302894429f,0.4826507899f,-0.0933404605f,0f,0f,0f,1f]},{id:\"minecraft:item_display\",item:{id:\"minecraft:player_head\",Count:1,components:{\"minecraft:profile\":{id:[I;-372050520,-1415190935,-18132871,-2058227552],properties:[{name:\"textures\",value:\"plcleft_arm1\"}]}}},item_display:\"none\",transformation:[0.4825242133f,0.0206657492f,0.1293959444f,-0.3569460726f,-0.019453467f,0.4995689177f,-0.0072428631f,0.8797555962f,-0.1295837422f,0.0019553141f,0.4829122389f,0.0975895254f,0f,0f,0f,1f]},{id:\"minecraft:item_display\",item:{id:\"minecraft:player_head\",Count:1,components:{\"minecraft:profile\":{id:[I;-1832582032,677571522,743067181,-1874410968],properties:[{name:\"textures\",value:\"plcleft_arm2\"}]}}},item_display:\"none\",transformation:[0.4825242133f,0.0413314984f,0.1293959444f,-0.3672789472f,-0.019453467f,0.9991378355f,-0.0072428631f,0.6299711373f,-0.1295837422f,0.0039106283f,0.4829122389f,0.0966118683f,0f,0f,0f,1f]},{id:\"minecraft:item_display\",item:{id:\"minecraft:player_head\",Count:1,components:{\"minecraft:profile\":{id:[I;-1708940981,1420361263,1954806290,1059417918],properties:[{name:\"textures\",value:\"plchead\"}]}}},item_display:\"none\",transformation:[0.9659258263f,-0.000316207f,0.2588188519f,-0.0001630443f,0f,0.9999992537f,0.0012217302f,1.3749996152f,-0.2588190451f,-0.0011801007f,0.9659251054f,-0.0006084894f,0f,0f,0f,1f]},{id:\"minecraft:item_display\",item:{id:\"minecraft:player_head\",Count:1,components:{\"minecraft:profile\":{id:[I;1274260694,220088481,-181937049,-1187545726],properties:[{name:\"textures\",value:\"ewogICJ0aW1lc3RhbXAiIDogMTcyMzE1MTc0NDU4OSwKICAicHJvZmlsZUlkIiA6ICJmMjc0YzRkNjI1MDQ0ZTQxOGVmYmYwNmM3NWIyMDIxMyIsCiAgInByb2ZpbGVOYW1lIiA6ICJIeXBpZ3NlbCIsCiAgInNpZ25hdHVyZVJlcXVpcmVkIiA6IHRydWUsCiAgInRleHR1cmVzIiA6IHsKICAgICJTS0lOIiA6IHsKICAgICAgInVybCIgOiAiaHR0cDovL3RleHR1cmVzLm1pbmVjcmFmdC5uZXQvdGV4dHVyZS9lNGYyNzcwZGFkMjcxMzZmYjE0YzMwZmNlYTZhMGQ2OGRlNjVjNmFhNTI3NThlYzcwZTgwNTcyZDQxNzUwNWYyIgogICAgfQogIH0KfQ==\"}]}}},item_display:\"none\",transformation:[0.956266568f,-0.000313045f,0.0012940943f,-0.1261268021f,0f,0.9899992612f,0.0000061087f,1.3692608725f,-0.2562308547f,-0.0011682997f,0.0048296255f,-0.4604486719f,0f,0f,0f,1f]}]}";
                String placeholderModel = "[{\"isCollection\":true,\"name\":\"Project\",\"nbt\":\"\",\"transforms\":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],\"children\":[{\"isCollection\":true,\"name\":\"Right Leg\",\"nbt\":\"\",\"transforms\":[0.9997461731071748,-0.0008724433417145354,0.022512845226067772,-0.010107627402490854,0.02250636952116895,0.0841799858224037,-0.9961963628311014,0.1905255567304347,-0.0010260061081601237,0.9964501838173122,0.0841782542103992,-0.828666062875136,0,0,0,1],\"children\":[{\"isItemDisplay\":true,\"name\":\"player_head[display=none]\",\"brightness\":{\"sky\":15,\"block\":0},\"nbt\":\"\",\"tagHead\":{\"Id\":\"I;\",\"Name\":\"textures\",\"Value\":\"plcright_leg1\"},\"textureValueList\":[],\"paintTexture\":null,\"transforms\":[0.5,0,0,0.1328125,0,1,0,0.7578125,0,0,0.5,0.1328125,0,0,0,1],\"defaultTextureValue\":\"plcright_leg1\"},{\"isItemDisplay\":true,\"name\":\"player_head[display=none]\",\"brightness\":{\"sky\":15,\"block\":0},\"nbt\":\"\",\"tagHead\":{\"Id\":\"I;\",\"Name\":\"textures\",\"Value\":\"plcright_leg2\"},\"textureValueList\":[],\"paintTexture\":null,\"transforms\":[0.5,0,0,0.1328125,0,0.5,0,0.2578125,0,0,0.5,0.1328125,0,0,0,1],\"defaultTextureValue\":\"plcright_leg2\"}],\"animation\":[{\"time\":0,\"position\":{\"x\":0.125,\"y\":0.125,\"z\":-0.0625},\"rotation\":{\"x\":1.4864969239235706,\"y\":0.022514747350726852,\"z\":0.0008726646259971648},\"scale\":{\"x\":0.9999999999999993,\"y\":0.9999999999999994,\"z\":0.9999999999999991}}],\"pivotCustom\":[0.1328125,0.7578125,0.1328125],\"defaultTransform\":{\"position\":[0.12499999999999992,0.12499999999999974,-0.06250000000000056],\"rotation\":{\"x\":1.486496923923572,\"y\":0.022514747350726866,\"z\":0.0008726646259971527},\"scale\":[0.9999999999999993,0.9999999999999998,0.9999999999999993]}},{\"isCollection\":true,\"name\":\"Left Leg\",\"nbt\":\"\",\"transforms\":[0.8662418049179458,0.4991175284563014,0.022512845226067727,-0.6212752290055422,-0.02259890515891013,0.08415519097300038,-0.9961963628311024,0.19653489087069614,-0.4991136392627611,0.862438169737387,0.08417825421039972,-0.5984578196768465,0,0,0,1],\"children\":[{\"isItemDisplay\":true,\"name\":\"player_head[display=none]\",\"brightness\":{\"sky\":15,\"block\":0},\"nbt\":\"\",\"tagHead\":{\"Id\":\"I;\",\"Name\":\"textures\",\"Value\":\"plcleft_leg1\"},\"textureValueList\":[],\"paintTexture\":null,\"transforms\":[0.5,0,0,0.1328125,0,1,0,0.7578125,0,0,0.5,0.1328125,0,0,0,1],\"defaultTextureValue\":\"plcleft_leg1\"},{\"isItemDisplay\":true,\"name\":\"player_head[display=none]\",\"brightness\":{\"sky\":15,\"block\":0},\"nbt\":\"\",\"tagHead\":{\"Id\":\"I;\",\"Name\":\"textures\",\"Value\":\"plcleft_leg2\"},\"textureValueList\":[],\"paintTexture\":null,\"transforms\":[0.5,0,0,0.1328125,0,0.5,0,0.2578125,0,0,0.5,0.1328125,0,0,0,1],\"defaultTextureValue\":\"plcleft_leg2\"}],\"animation\":[{\"time\":0,\"position\":{\"x\":-0.125,\"y\":0.125,\"z\":0},\"rotation\":{\"x\":1.4864969239235706,\"y\":0.022514747350726852,\"z\":-0.5227261109723017},\"scale\":{\"x\":0.9999999999999997,\"y\":1.0000000000000004,\"z\":0.9999999999999997}}],\"pivotCustom\":[0.1328125,0.7578125,0.1328125],\"defaultTransform\":{\"position\":[-0.12499999999999956,0.1249999999999995,1.1102230246251565e-16],\"rotation\":{\"x\":1.4864969239235717,\"y\":0.022514747350726748,\"z\":-0.5227261109723021},\"scale\":[0.9999999999999997,1.000000000000001,1.0000000000000002]}},{\"isCollection\":true,\"name\":\"Body\",\"nbt\":\"\",\"transforms\":[0.9659258262890683,0,0.2588190451025207,-0.5592580175177746,0,0.9999999999999999,0,0.109375,-0.25881904510252074,0,0.9659258262890682,-0.12514250126690996,0,0,0,1],\"children\":[{\"isCollection\":true,\"name\":\"Torso\",\"nbt\":\"\",\"transforms\":[0.9998476951563913,0,-0.01745240643728351,0.2395458537040353,0,1,0,0.0078125,0.01745240643728351,0,0.9998476951563913,0.12819693252713837,0,0,0,1],\"children\":[{\"isItemDisplay\":true,\"name\":\"player_head[display=none]\",\"brightness\":{\"sky\":15,\"block\":0},\"nbt\":\"\",\"tagHead\":{\"Id\":\"I;\",\"Name\":\"textures\",\"Value\":\"plcbody1\"},\"textureValueList\":[],\"paintTexture\":null,\"transforms\":[1,0,0,0.265625,0,1,0,0.7578125,0,0,0.5,0.1328125,0,0,0,1],\"defaultTextureValue\":\"plcbody1\"},{\"isItemDisplay\":true,\"name\":\"player_head[display=none]\",\"brightness\":{\"sky\":15,\"block\":0},\"nbt\":\"\",\"tagHead\":{\"Id\":\"I;\",\"Name\":\"textures\",\"Value\":\"plcbody2\"},\"textureValueList\":[],\"paintTexture\":null,\"transforms\":[1,0,0,0.265625,0,0.5,0,0.2578125,0,0,0.5,0.1328125,0,0,0,1],\"defaultTextureValue\":\"plcbody2\"}],\"animation\":[{\"time\":0,\"position\":{\"x\":-0.005,\"y\":0,\"z\":0},\"rotation\":{\"x\":0,\"y\":-0.017453292519943295,\"z\":0},\"scale\":{\"x\":1,\"y\":1,\"z\":1}}],\"pivotCustom\":[0.265625,0.0078125,0.1328125],\"defaultTransform\":{\"position\":[-0.0050000000000000044,0,0],\"rotation\":{\"x\":0,\"y\":-0.017453292519943295,\"z\":0},\"scale\":[1,1,1]}},{\"isCollection\":true,\"name\":\"Right Hand\",\"nbt\":\"\",\"transforms\":[0.9998537262811574,-0.017103392695130695,2.1684043449710086e-19,0.7609580037087466,0.017092339326256815,0.9992075531941269,0.03594603700217497,-0.004399955705325365,-0.0006147991866818971,-0.03594077904166501,0.9993537323810013,0.15592769711036086,0,0,0,1],\"children\":[{\"isItemDisplay\":true,\"name\":\"player_head[display=none]\",\"brightness\":{\"sky\":15,\"block\":0},\"nbt\":\"\",\"tagHead\":{\"Id\":\"I;\",\"Name\":\"textures\",\"Value\":\"plcright_arm1\"},\"textureValueList\":[],\"paintTexture\":null,\"transforms\":[0.5,0,0,0.1328125,0,0.5,0,0.765625,0,0,0.5,0.1328125,0,0,0,1],\"defaultTextureValue\":\"plcright_arm1\"},{\"isItemDisplay\":true,\"name\":\"player_head[display=none]\",\"brightness\":{\"sky\":15,\"block\":0},\"nbt\":\"\",\"tagHead\":{\"Id\":\"I;\",\"Name\":\"textures\",\"Value\":\"plcright_arm2\"},\"textureValueList\":[],\"paintTexture\":null,\"transforms\":[0.5,0,0,0.1328125,0,1,0,0.515625,0,0,0.5,0.1328125,0,0,0,1],\"defaultTextureValue\":\"plcright_arm2\"}],\"animation\":[{\"time\":0,\"position\":{\"x\":0.25,\"y\":0.64,\"z\":0},\"rotation\":{\"x\":0,\"y\":0,\"z\":0.09075712110370514},\"scale\":{\"x\":0.9999999999999994,\"y\":0.9999999999999993,\"z\":0.9999999999999999}},{\"time\":6,\"position\":{\"x\":0.25,\"y\":0.63,\"z\":0},\"rotation\":{\"x\":0.027925268031909273,\"y\":0,\"z\":0.08726646259971647},\"scale\":{\"x\":0.9999999999999996,\"y\":0.9999999999999994,\"z\":0.9999999999999999}},{\"time\":10,\"position\":{\"x\":0.25,\"y\":0.625,\"z\":0},\"rotation\":{\"x\":0.04363323129985824,\"y\":0,\"z\":0.08028514559173916},\"scale\":{\"x\":0.9999999999999991,\"y\":0.9999999999999994,\"z\":0.9999999999999997}},{\"time\":13,\"position\":{\"x\":0.25,\"y\":0.625,\"z\":0},\"rotation\":{\"x\":0.04014257279586958,\"y\":0,\"z\":0.07853981633974483},\"scale\":{\"x\":0.9999999999999993,\"y\":0.9999999999999992,\"z\":0.9999999999999997}},{\"time\":17,\"position\":{\"x\":0.25,\"y\":0.625,\"z\":0},\"rotation\":{\"x\":0.017453292519943295,\"y\":0,\"z\":0.06981317007977318},\"scale\":{\"x\":0.9999999999999991,\"y\":0.9999999999999993,\"z\":0.9999999999999997}},{\"time\":22,\"position\":{\"x\":0.25,\"y\":0.625,\"z\":0},\"rotation\":{\"x\":0,\"y\":0,\"z\":0.05235987755982989},\"scale\":{\"x\":0.9999999999999998,\"y\":0.9999999999999998,\"z\":0.9999999999999999}},{\"time\":27,\"position\":{\"x\":0.25,\"y\":0.625,\"z\":0},\"rotation\":{\"x\":-0.027925268031909273,\"y\":0,\"z\":0.026179938779914945},\"scale\":{\"x\":0.9999999999999997,\"y\":0.9999999999999997,\"z\":0.9999999999999999}},{\"time\":32,\"position\":{\"x\":0.25,\"y\":0.625,\"z\":0},\"rotation\":{\"x\":-0.04363323129985824,\"y\":0,\"z\":0.008726646259971648},\"scale\":{\"x\":0.9999999999999999,\"y\":0.9999999999999998,\"z\":0.9999999999999999}},{\"time\":35,\"position\":{\"x\":0.25,\"y\":0.625,\"z\":0},\"rotation\":{\"x\":-0.04014257279586958,\"y\":0,\"z\":0},\"scale\":{\"x\":0.9999999999999993,\"y\":0.9999999999999993,\"z\":0.9999999999999996}},{\"time\":39,\"position\":{\"x\":0.25,\"y\":0.625,\"z\":0},\"rotation\":{\"x\":-0.017453292519943295,\"y\":0,\"z\":0.008726646259971648},\"scale\":{\"x\":0.9999999999999999,\"y\":0.9999999999999998,\"z\":0.9999999999999999}},{\"time\":44,\"position\":{\"x\":0.25,\"y\":0.625,\"z\":0},\"rotation\":{\"x\":0,\"y\":0,\"z\":0.026179938779914945},\"scale\":{\"x\":1,\"y\":0.9999999999999999,\"z\":0.9999999999999999}},{\"time\":49,\"position\":{\"x\":0.25,\"y\":0.625,\"z\":0},\"rotation\":{\"x\":0.027925268031909273,\"y\":0,\"z\":0.05235987755982989},\"scale\":{\"x\":0.9999999999999997,\"y\":0.9999999999999998,\"z\":0.9999999999999999}},{\"time\":54,\"position\":{\"x\":0.25,\"y\":0.625,\"z\":0},\"rotation\":{\"x\":0.04363323129985824,\"y\":0,\"z\":0.06981317007977318},\"scale\":{\"x\":0.9999999999999993,\"y\":0.9999999999999997,\"z\":0.9999999999999997}},{\"time\":57,\"position\":{\"x\":0.25,\"y\":0.625,\"z\":0},\"rotation\":{\"x\":0.04014257279586958,\"y\":0,\"z\":0.07853981633974483},\"scale\":{\"x\":0.9999999999999993,\"y\":0.9999999999999992,\"z\":0.9999999999999997}},{\"time\":61,\"position\":{\"x\":0.25,\"y\":0.625,\"z\":0},\"rotation\":{\"x\":0.017453292519943295,\"y\":0,\"z\":0.06981317007977318},\"scale\":{\"x\":0.9999999999999991,\"y\":0.9999999999999993,\"z\":0.9999999999999997}},{\"time\":66,\"position\":{\"x\":0.25,\"y\":0.625,\"z\":0},\"rotation\":{\"x\":0,\"y\":0,\"z\":0.05235987755982989},\"scale\":{\"x\":0.9999999999999998,\"y\":0.9999999999999998,\"z\":0.9999999999999999}},{\"time\":71,\"position\":{\"x\":0.25,\"y\":0.625,\"z\":0},\"rotation\":{\"x\":-0.027925268031909273,\"y\":0,\"z\":0.026179938779914945},\"scale\":{\"x\":0.9999999999999997,\"y\":0.9999999999999997,\"z\":0.9999999999999999}},{\"time\":76,\"position\":{\"x\":0.25,\"y\":0.625,\"z\":0},\"rotation\":{\"x\":-0.04363323129985824,\"y\":0,\"z\":0.008726646259971648},\"scale\":{\"x\":0.9999999999999999,\"y\":0.9999999999999998,\"z\":0.9999999999999999}},{\"time\":79,\"position\":{\"x\":0.25,\"y\":0.625,\"z\":0},\"rotation\":{\"x\":-0.04014257279586958,\"y\":0,\"z\":0},\"scale\":{\"x\":0.9999999999999993,\"y\":0.9999999999999993,\"z\":0.9999999999999996}},{\"time\":83,\"position\":{\"x\":0.25,\"y\":0.62,\"z\":0},\"rotation\":{\"x\":-0.017453292519943295,\"y\":0,\"z\":0.008726646259971648},\"scale\":{\"x\":0.9999999999999999,\"y\":0.9999999999999998,\"z\":0.9999999999999999}},{\"time\":88,\"position\":{\"x\":0.25,\"y\":0.61,\"z\":0},\"rotation\":{\"x\":0,\"y\":0,\"z\":0.026179938779914945},\"scale\":{\"x\":0.9999999999999998,\"y\":0.9999999999999998,\"z\":1}},{\"time\":93,\"position\":{\"x\":0.25,\"y\":0.6,\"z\":0},\"rotation\":{\"x\":0.027925268031909273,\"y\":0,\"z\":0.05235987755982989},\"scale\":{\"x\":0.9999999999999996,\"y\":0.9999999999999998,\"z\":0.9999999999999999}},{\"time\":96,\"position\":{\"x\":0.25,\"y\":0.65,\"z\":0},\"rotation\":{\"x\":0.027925268031909273,\"y\":0,\"z\":0.08726646259971647},\"scale\":{\"x\":0.9999999999999993,\"y\":0.9999999999999998,\"z\":0.9999999999999999}},{\"time\":97,\"position\":{\"x\":0.25,\"y\":0.64,\"z\":0},\"rotation\":{\"x\":0.027925268031909273,\"y\":0,\"z\":0.09075712110370514},\"scale\":{\"x\":0.9999999999999989,\"y\":0.9999999999999996,\"z\":0.9999999999999999}}],\"pivotCustom\":[0.0078125,0.640625,0.1328125],\"defaultTransform\":{\"position\":[0.25,0.6249999999999999,0],\"rotation\":{\"x\":-0.035953782591083214,\"y\":1.0842021724855044e-19,\"z\":0.01710422666954443},\"scale\":[0.9999999999999998,0.9999999999999998,0.9999999999999999]}},{\"isCollection\":true,\"name\":\"Left Hand\",\"nbt\":\"\",\"transforms\":[0.9992426796249051,0.03891101664102857,-5.421010862427522e-20,-0.024732123376454862,-0.03890693395570681,0.999137835450346,-0.014485726138606467,0.012506903577861106,-0.0005636543308366986,0.014474755803053654,0.999895076364634,0.12369886186615964,0,0,0,1],\"children\":[{\"isItemDisplay\":true,\"name\":\"player_head[display=none]\",\"brightness\":{\"sky\":15,\"block\":0},\"nbt\":\"\",\"tagHead\":{\"Id\":\"I;\",\"Name\":\"textures\",\"Value\":\"plcleft_arm1\"},\"textureValueList\":[],\"paintTexture\":null,\"transforms\":[0.5,0,0,0.1328125,0,0.5,0,0.765625,0,0,0.5,0.1328125,0,0,0,1],\"defaultTextureValue\":\"plcleft_arm1\"},{\"isItemDisplay\":true,\"name\":\"player_head[display=none]\",\"brightness\":{\"sky\":15,\"block\":0},\"nbt\":\"\",\"tagHead\":{\"Id\":\"I;\",\"Name\":\"textures\",\"Value\":\"plcleft_arm2\"},\"textureValueList\":[],\"paintTexture\":null,\"transforms\":[0.5,0,0,0.1328125,0,1,0,0.515625,0,0,0.5,0.1328125,0,0,0,1],\"defaultTextureValue\":\"plcleft_arm2\"}],\"animation\":[{\"time\":0,\"position\":{\"x\":-0.25,\"y\":0.64,\"z\":0},\"rotation\":{\"x\":0.017453292519943295,\"y\":0,\"z\":-0.08726646259971647},\"scale\":{\"x\":0.9999999999999999,\"y\":0.9999999999999999,\"z\":1}},{\"time\":6,\"position\":{\"x\":-0.25,\"y\":0.63,\"z\":0},\"rotation\":{\"x\":0,\"y\":0,\"z\":-0.08028514559173916},\"scale\":{\"x\":0.9999999999999998,\"y\":0.9999999999999998,\"z\":1}},{\"time\":10,\"position\":{\"x\":-0.25,\"y\":0.625,\"z\":0},\"rotation\":{\"x\":-0.027925268031909273,\"y\":0,\"z\":-0.07330382858376185},\"scale\":{\"x\":0.9999999999999997,\"y\":0.9999999999999997,\"z\":1}},{\"time\":15,\"position\":{\"x\":-0.25,\"y\":0.625,\"z\":0},\"rotation\":{\"x\":-0.04363323129985824,\"y\":0,\"z\":-0.06981317007977318},\"scale\":{\"x\":0.9999999999999996,\"y\":0.9999999999999996,\"z\":1}},{\"time\":18,\"position\":{\"x\":-0.25,\"y\":0.625,\"z\":0},\"rotation\":{\"x\":-0.04014257279586958,\"y\":0,\"z\":-0.07853981633974483},\"scale\":{\"x\":0.9999999999999998,\"y\":0.9999999999999998,\"z\":1}},{\"time\":22,\"position\":{\"x\":-0.25,\"y\":0.625,\"z\":0},\"rotation\":{\"x\":-0.017453292519943295,\"y\":0,\"z\":-0.06981317007977318},\"scale\":{\"x\":0.9999999999999996,\"y\":0.9999999999999996,\"z\":1}},{\"time\":27,\"position\":{\"x\":-0.25,\"y\":0.625,\"z\":0},\"rotation\":{\"x\":0,\"y\":0,\"z\":-0.05235987755982989},\"scale\":{\"x\":0.9999999999999997,\"y\":0.9999999999999997,\"z\":1}},{\"time\":32,\"position\":{\"x\":-0.25,\"y\":0.625,\"z\":0},\"rotation\":{\"x\":0.027925268031909273,\"y\":0,\"z\":-0.026179938779914945},\"scale\":{\"x\":0.9999999999999996,\"y\":0.9999999999999996,\"z\":1}},{\"time\":37,\"position\":{\"x\":-0.25,\"y\":0.625,\"z\":0},\"rotation\":{\"x\":0.04363323129985824,\"y\":0,\"z\":-0.008726646259971648},\"scale\":{\"x\":0.9999999999999997,\"y\":0.9999999999999997,\"z\":1}},{\"time\":40,\"position\":{\"x\":-0.25,\"y\":0.625,\"z\":0},\"rotation\":{\"x\":0.04014257279586958,\"y\":0,\"z\":0},\"scale\":{\"x\":0.9999999999999996,\"y\":0.9999999999999996,\"z\":1}},{\"time\":44,\"position\":{\"x\":-0.25,\"y\":0.625,\"z\":0},\"rotation\":{\"x\":0.017453292519943295,\"y\":0,\"z\":-0.008726646259971648},\"scale\":{\"x\":1,\"y\":1,\"z\":1}},{\"time\":49,\"position\":{\"x\":-0.25,\"y\":0.625,\"z\":0},\"rotation\":{\"x\":0,\"y\":0,\"z\":-0.026179938779914945},\"scale\":{\"x\":1,\"y\":1,\"z\":1}},{\"time\":54,\"position\":{\"x\":-0.25,\"y\":0.625,\"z\":0},\"rotation\":{\"x\":-0.027925268031909273,\"y\":0,\"z\":-0.05235987755982989},\"scale\":{\"x\":0.9999999999999998,\"y\":0.9999999999999998,\"z\":1}},{\"time\":59,\"position\":{\"x\":-0.25,\"y\":0.625,\"z\":0},\"rotation\":{\"x\":-0.04363323129985824,\"y\":0,\"z\":-0.06981317007977318},\"scale\":{\"x\":0.9999999999999996,\"y\":0.9999999999999996,\"z\":1}},{\"time\":62,\"position\":{\"x\":-0.25,\"y\":0.625,\"z\":0},\"rotation\":{\"x\":-0.04014257279586958,\"y\":0,\"z\":-0.07853981633974483},\"scale\":{\"x\":0.9999999999999998,\"y\":0.9999999999999998,\"z\":1}},{\"time\":66,\"position\":{\"x\":-0.25,\"y\":0.625,\"z\":0},\"rotation\":{\"x\":-0.017453292519943295,\"y\":0,\"z\":-0.06981317007977318},\"scale\":{\"x\":0.9999999999999996,\"y\":0.9999999999999996,\"z\":1}},{\"time\":71,\"position\":{\"x\":-0.25,\"y\":0.625,\"z\":0},\"rotation\":{\"x\":0,\"y\":0,\"z\":-0.05235987755982989},\"scale\":{\"x\":0.9999999999999997,\"y\":0.9999999999999997,\"z\":1}},{\"time\":76,\"position\":{\"x\":-0.25,\"y\":0.625,\"z\":0},\"rotation\":{\"x\":0.027925268031909273,\"y\":0,\"z\":-0.026179938779914945},\"scale\":{\"x\":0.9999999999999996,\"y\":0.9999999999999996,\"z\":1}},{\"time\":81,\"position\":{\"x\":-0.25,\"y\":0.625,\"z\":0},\"rotation\":{\"x\":0.04363323129985824,\"y\":0,\"z\":-0.008726646259971648},\"scale\":{\"x\":0.9999999999999997,\"y\":0.9999999999999997,\"z\":1}},{\"time\":84,\"position\":{\"x\":-0.25,\"y\":0.62,\"z\":0},\"rotation\":{\"x\":0.04014257279586958,\"y\":0,\"z\":0},\"scale\":{\"x\":0.9999999999999996,\"y\":0.9999999999999993,\"z\":0.9999999999999998}},{\"time\":88,\"position\":{\"x\":-0.25,\"y\":0.61,\"z\":0},\"rotation\":{\"x\":0.017453292519943295,\"y\":0,\"z\":-0.008726646259971648},\"scale\":{\"x\":0.9999999999999996,\"y\":0.9999999999999996,\"z\":1}},{\"time\":93,\"position\":{\"x\":-0.25,\"y\":0.6,\"z\":0},\"rotation\":{\"x\":0,\"y\":0,\"z\":-0.026179938779914945},\"scale\":{\"x\":0.9999999999999999,\"y\":0.9999999999999999,\"z\":1}},{\"time\":96,\"position\":{\"x\":-0.25,\"y\":0.65,\"z\":0},\"rotation\":{\"x\":0,\"y\":0,\"z\":-0.08726646259971647},\"scale\":{\"x\":0.9999999999999998,\"y\":0.9999999999999998,\"z\":1}},{\"time\":97,\"position\":{\"x\":-0.25,\"y\":0.64,\"z\":0},\"rotation\":{\"x\":0,\"y\":0,\"z\":-0.08726646259971647},\"scale\":{\"x\":0.9999999999999992,\"y\":0.9999999999999992,\"z\":1}}],\"pivotCustom\":[0.2578125,0.640625,0.1328125],\"defaultTransform\":{\"position\":[-0.2500000000000001,0.6249999999999997,0],\"rotation\":{\"x\":0.014486232791552936,\"y\":-5.421010862427522e-20,\"z\":-0.038920842319473556},\"scale\":[0.9999999999999996,0.9999999999999996,1]}},{\"isCollection\":true,\"name\":\"Head\",\"nbt\":\"\",\"transforms\":[1,0,0,0.5078125,0,0.9999992536874144,0.0012217301724650716,0.7025837396264283,0,-0.0012217301724650716,0.9999992536874144,0.2656829299191977,0,0,0,1],\"children\":[{\"isCollection\":true,\"name\":\"Eyes Open\",\"nbt\":\"\",\"transforms\":[1,0,0,-0.265625,0,1,0,0.04741629576094997,0,0,1,-0.265625,0,0,0,1],\"children\":[{\"isItemDisplay\":true,\"name\":\"player_head[display=none]\",\"brightness\":{\"sky\":15,\"block\":0},\"nbt\":\"\",\"tagHead\":{\"Id\":\"I;\",\"Name\":\"textures\",\"Value\":\"plchead\"},\"textureValueList\":[],\"paintTexture\":null,\"transforms\":[1,0,0,0.265625,0,1,0,0.515625,0,0,1,0.265625,0,0,0,1],\"defaultTextureValue\":\"plchead\"}],\"animation\":[{\"time\":0,\"position\":{\"x\":0,\"y\":0.015625,\"z\":0},\"rotation\":{\"x\":0,\"y\":0,\"z\":0},\"scale\":{\"x\":1,\"y\":1,\"z\":1}}],\"pivotCustom\":[0.265625,0.015625,0.265625],\"defaultTransform\":{\"position\":[-2.7105054312137617e-20,0.015625,0],\"rotation\":{\"x\":0,\"y\":0,\"z\":0},\"scale\":[1,1,1]}},{\"isCollection\":true,\"name\":\"Eyes Closed\",\"nbt\":\"\",\"transforms\":[0.99,0,0,-0.265625,0,0.99,0,0.04741629576094997,0,0,0.005,-0.4781081081081081,0,0,0,1],\"children\":[{\"isItemDisplay\":true,\"name\":\"player_head[display=none]\",\"brightness\":{\"sky\":15,\"block\":0},\"nbt\":\"\",\"tagHead\":{\"Id\":\"I;\",\"Name\":\"textures\",\"Value\":\"ewogICJ0aW1lc3RhbXAiIDogMTcyMzE1MTc0NDU4OSwKICAicHJvZmlsZUlkIiA6ICJmMjc0YzRkNjI1MDQ0ZTQxOGVmYmYwNmM3NWIyMDIxMyIsCiAgInByb2ZpbGVOYW1lIiA6ICJIeXBpZ3NlbCIsCiAgInNpZ25hdHVyZVJlcXVpcmVkIiA6IHRydWUsCiAgInRleHR1cmVzIiA6IHsKICAgICJTS0lOIiA6IHsKICAgICAgInVybCIgOiAiaHR0cDovL3RleHR1cmVzLm1pbmVjcmFmdC5uZXQvdGV4dHVyZS9lNGYyNzcwZGFkMjcxMzZmYjE0YzMwZmNlYTZhMGQ2OGRlNjVjNmFhNTI3NThlYzcwZTgwNTcyZDQxNzUwNWYyIgogICAgfQogIH0KfQ==\"},\"textureValueList\":[],\"paintTexture\":null,\"transforms\":[1,0,0,0.265625,0,1,0,0.515625,0,0,1,0.265625,0,0,0,1],\"defaultTextureValue\":\"ewogICJ0aW1lc3RhbXAiIDogMTcyMzE1MTc0NDU4OSwKICAicHJvZmlsZUlkIiA6ICJmMjc0YzRkNjI1MDQ0ZTQxOGVmYmYwNmM3NWIyMDIxMyIsCiAgInByb2ZpbGVOYW1lIiA6ICJIeXBpZ3NlbCIsCiAgInNpZ25hdHVyZVJlcXVpcmVkIiA6IHRydWUsCiAgInRleHR1cmVzIiA6IHsKICAgICJTS0lOIiA6IHsKICAgICAgInVybCIgOiAiaHR0cDovL3RleHR1cmVzLm1pbmVjcmFmdC5uZXQvdGV4dHVyZS9lNGYyNzcwZGFkMjcxMzZmYjE0YzMwZmNlYTZhMGQ2OGRlNjVjNmFhNTI3NThlYzcwZTgwNTcyZDQxNzUwNWYyIgogICAgfQogIH0KfQ==\"}],\"animation\":[{\"time\":0,\"position\":{\"x\":0,\"y\":0.015625,\"z\":-0.1875},\"rotation\":{\"x\":0,\"y\":0,\"z\":0},\"scale\":{\"x\":0.99,\"y\":0.99,\"z\":0.005}},{\"time\":74,\"position\":{\"x\":0,\"y\":0.015625,\"z\":-0.25},\"rotation\":{\"x\":0,\"y\":0,\"z\":0},\"scale\":{\"x\":0.99,\"y\":0.99,\"z\":0.005}},{\"time\":93,\"position\":{\"x\":0,\"y\":0.015625,\"z\":-0.25},\"rotation\":{\"x\":0,\"y\":0,\"z\":0},\"scale\":{\"x\":0.99,\"y\":0.99,\"z\":0.005}},{\"time\":97,\"position\":{\"x\":0,\"y\":0.015625,\"z\":-0.1875},\"rotation\":{\"x\":0,\"y\":0,\"z\":0},\"scale\":{\"x\":0.99,\"y\":0.99,\"z\":0.005}}],\"pivotCustom\":[0.265625,0.015625,0.265625],\"defaultTransform\":{\"position\":[-0.0026562500000000266,0.015468750000000003,-0.4767799831081081],\"rotation\":{\"x\":0,\"y\":0,\"z\":0},\"scale\":[0.99,0.99,0.005]}}],\"animation\":[{\"time\":0,\"position\":{\"x\":0,\"y\":0.75,\"z\":0},\"rotation\":{\"x\":0.12217304763960307,\"y\":0,\"z\":0},\"scale\":{\"x\":1,\"y\":0.9999999999999999,\"z\":0.9999999999999999}},{\"time\":2,\"position\":{\"x\":0,\"y\":0.74,\"z\":0},\"rotation\":{\"x\":0.03490658503988659,\"y\":0,\"z\":0},\"scale\":{\"x\":1,\"y\":0.9999999999999991,\"z\":0.9999999999999991}},{\"time\":4,\"position\":{\"x\":0,\"y\":0.734375,\"z\":0},\"rotation\":{\"x\":-0.03490658503988659,\"y\":0,\"z\":0},\"scale\":{\"x\":1,\"y\":0.9999999999999992,\"z\":0.9999999999999992}},{\"time\":6,\"position\":{\"x\":0,\"y\":0.734375,\"z\":0},\"rotation\":{\"x\":-0.06981317007977318,\"y\":0,\"z\":0},\"scale\":{\"x\":1,\"y\":0.9999999999999993,\"z\":0.9999999999999993}},{\"time\":8,\"position\":{\"x\":0,\"y\":0.734375,\"z\":0},\"rotation\":{\"x\":0.017453292519943295,\"y\":0,\"z\":0},\"scale\":{\"x\":1,\"y\":0.9999999999999996,\"z\":0.9999999999999996}},{\"time\":10,\"position\":{\"x\":0,\"y\":0.734375,\"z\":0},\"rotation\":{\"x\":0.06981317007977318,\"y\":0,\"z\":0},\"scale\":{\"x\":1,\"y\":0.9999999999999994,\"z\":0.9999999999999994}},{\"time\":15,\"position\":{\"x\":0,\"y\":0.734375,\"z\":0},\"rotation\":{\"x\":0.03490658503988659,\"y\":0,\"z\":0},\"scale\":{\"x\":1,\"y\":0.9999999999999999,\"z\":0.9999999999999999}},{\"time\":25,\"position\":{\"x\":0,\"y\":0.734375,\"z\":0},\"rotation\":{\"x\":-0.013962634015954637,\"y\":0,\"z\":0},\"scale\":{\"x\":1,\"y\":0.9999999999999997,\"z\":0.9999999999999997}},{\"time\":30,\"position\":{\"x\":0,\"y\":0.734375,\"z\":0},\"rotation\":{\"x\":0,\"y\":0,\"z\":0},\"scale\":{\"x\":1,\"y\":1,\"z\":1}},{\"time\":33,\"position\":{\"x\":0,\"y\":0.734375,\"z\":0},\"rotation\":{\"x\":0.006981317007977318,\"y\":0,\"z\":0},\"scale\":{\"x\":1,\"y\":1,\"z\":1}},{\"time\":40,\"position\":{\"x\":0,\"y\":0.734375,\"z\":0},\"rotation\":{\"x\":0.026179938779914945,\"y\":0,\"z\":0},\"scale\":{\"x\":1,\"y\":1,\"z\":1}},{\"time\":45,\"position\":{\"x\":0,\"y\":0.734375,\"z\":0},\"rotation\":{\"x\":0.03490658503988659,\"y\":0,\"z\":0},\"scale\":{\"x\":1,\"y\":1,\"z\":1}},{\"time\":48,\"position\":{\"x\":0,\"y\":0.734375,\"z\":0},\"rotation\":{\"x\":0.031415926535897934,\"y\":0,\"z\":0},\"scale\":{\"x\":1,\"y\":1,\"z\":1}},{\"time\":55,\"position\":{\"x\":0,\"y\":0.734375,\"z\":0},\"rotation\":{\"x\":0.006981317007977318,\"y\":0,\"z\":0},\"scale\":{\"x\":1,\"y\":0.9999999999999999,\"z\":0.9999999999999999}},{\"time\":60,\"position\":{\"x\":0,\"y\":0.734375,\"z\":0},\"rotation\":{\"x\":0,\"y\":0,\"z\":0},\"scale\":{\"x\":1,\"y\":1,\"z\":1}},{\"time\":63,\"position\":{\"x\":0,\"y\":0.734375,\"z\":0},\"rotation\":{\"x\":0.006981317007977318,\"y\":0,\"z\":0},\"scale\":{\"x\":1,\"y\":0.9999999999999999,\"z\":0.9999999999999999}},{\"time\":70,\"position\":{\"x\":0,\"y\":0.734375,\"z\":0},\"rotation\":{\"x\":0.03490658503988659,\"y\":0,\"z\":0},\"scale\":{\"x\":1,\"y\":0.9999999999999998,\"z\":0.9999999999999998}},{\"time\":75,\"position\":{\"x\":0,\"y\":0.734375,\"z\":0},\"rotation\":{\"x\":0.038397243543875255,\"y\":0,\"z\":0},\"scale\":{\"x\":1,\"y\":0.9999999999999998,\"z\":0.9999999999999998}},{\"time\":80,\"position\":{\"x\":0,\"y\":0.734375,\"z\":0},\"rotation\":{\"x\":0,\"y\":0,\"z\":0},\"scale\":{\"x\":1,\"y\":0.9999999999999998,\"z\":0.9999999999999998}},{\"time\":82,\"position\":{\"x\":0,\"y\":0.734375,\"z\":0},\"rotation\":{\"x\":-0.017453292519943295,\"y\":0,\"z\":0},\"scale\":{\"x\":1,\"y\":0.9999999999999998,\"z\":0.9999999999999998}},{\"time\":86,\"position\":{\"x\":0,\"y\":0.73,\"z\":0},\"rotation\":{\"x\":-0.08726646259971647,\"y\":0,\"z\":0},\"scale\":{\"x\":1,\"y\":0.9999999999999997,\"z\":0.9999999999999997}},{\"time\":92,\"position\":{\"x\":0,\"y\":0.71,\"z\":0},\"rotation\":{\"x\":-0.17453292519943295,\"y\":0,\"z\":0},\"scale\":{\"x\":1,\"y\":0.9999999999999997,\"z\":0.9999999999999997}},{\"time\":93,\"position\":{\"x\":0,\"y\":0.71,\"z\":0},\"rotation\":{\"x\":-0.1832595714594046,\"y\":0,\"z\":0},\"scale\":{\"x\":1,\"y\":0.9999999999999994,\"z\":0.9999999999999994}},{\"time\":95,\"position\":{\"x\":0,\"y\":0.71,\"z\":0},\"rotation\":{\"x\":-0.19198621771937624,\"y\":0,\"z\":0},\"scale\":{\"x\":1,\"y\":0.9999999999999992,\"z\":0.9999999999999992}},{\"time\":97,\"position\":{\"x\":0,\"y\":0.75,\"z\":0},\"rotation\":{\"x\":0.12217304763960307,\"y\":0,\"z\":0},\"scale\":{\"x\":1,\"y\":0.9999999999999996,\"z\":0.9999999999999996}}],\"pivotCustom\":[2.7105054312137617e-20,0.04741629576094997,0],\"defaultTransform\":{\"position\":[0,0.734375,0],\"rotation\":{\"x\":-0.0012217304763960303,\"y\":0,\"z\":0},\"scale\":[1,1,1]}}],\"animation\":[{\"time\":0,\"position\":{\"x\":0,\"y\":0.125,\"z\":0},\"rotation\":{\"x\":0.08726646259971647,\"y\":0.2617993877991494,\"z\":-0.03490658503988659},\"scale\":{\"x\":0.9999999999999999,\"y\":0.9999999999999998,\"z\":0.9999999999999999}},{\"time\":2,\"position\":{\"x\":0,\"y\":0.125,\"z\":0},\"rotation\":{\"x\":0,\"y\":0.2617993877991494,\"z\":0},\"scale\":{\"x\":1,\"y\":1,\"z\":0.9999999999999999}},{\"time\":4,\"position\":{\"x\":0,\"y\":0.125,\"z\":0},\"rotation\":{\"x\":-0.03490658503988659,\"y\":0.2617993877991494,\"z\":0.008726646259971648},\"scale\":{\"x\":0.9999999999999997,\"y\":0.9999999999999996,\"z\":0.9999999999999999}},{\"time\":6,\"position\":{\"x\":0,\"y\":0.125,\"z\":0},\"rotation\":{\"x\":-0.017453292519943295,\"y\":0.2617993877991494,\"z\":0.005235987755982988},\"scale\":{\"x\":1,\"y\":0.9999999999999998,\"z\":0.9999999999999997}},{\"time\":9,\"position\":{\"x\":0,\"y\":0.125,\"z\":0},\"rotation\":{\"x\":0,\"y\":0.2617993877991494,\"z\":0},\"scale\":{\"x\":1,\"y\":0.9999999999999999,\"z\":0.9999999999999999}},{\"time\":74,\"position\":{\"x\":0,\"y\":0.125,\"z\":0},\"rotation\":{\"x\":0,\"y\":0.2617993877991494,\"z\":0},\"scale\":{\"x\":1,\"y\":1,\"z\":1}},{\"time\":80,\"position\":{\"x\":0,\"y\":0.125,\"z\":0},\"rotation\":{\"x\":-0.017453292519943295,\"y\":0.2617993877991494,\"z\":0.008726646259971648},\"scale\":{\"x\":0.9999999999999999,\"y\":0.9999999999999999,\"z\":1}},{\"time\":84,\"position\":{\"x\":0,\"y\":0.125,\"z\":0},\"rotation\":{\"x\":-0.05235987755982989,\"y\":0.2617993877991494,\"z\":0.017453292519943295},\"scale\":{\"x\":0.9999999999999997,\"y\":0.9999999999999997,\"z\":0.9999999999999999}},{\"time\":87,\"position\":{\"x\":0,\"y\":0.125,\"z\":0},\"rotation\":{\"x\":-0.08726646259971647,\"y\":0.2617993877991494,\"z\":0.026179938779914945},\"scale\":{\"x\":0.9999999999999998,\"y\":0.9999999999999997,\"z\":0.9999999999999998}},{\"time\":93,\"position\":{\"x\":0,\"y\":0.125,\"z\":0},\"rotation\":{\"x\":-0.13962634015954636,\"y\":0.2617993877991494,\"z\":0.03490658503988659},\"scale\":{\"x\":0.9999999999999997,\"y\":0.9999999999999998,\"z\":0.9999999999999996}},{\"time\":95,\"position\":{\"x\":0,\"y\":0.125,\"z\":0},\"rotation\":{\"x\":-0.05235987755982989,\"y\":0.2617993877991494,\"z\":0.026179938779914945},\"scale\":{\"x\":0.9999999999999997,\"y\":0.9999999999999997,\"z\":0.9999999999999998}},{\"time\":97,\"position\":{\"x\":0,\"y\":0.125,\"z\":0},\"rotation\":{\"x\":0.08726646259971647,\"y\":0.2617993877991494,\"z\":-0.03490658503988659},\"scale\":{\"x\":0.9999999999999999,\"y\":0.9999999999999998,\"z\":0.9999999999999999}}],\"pivotCustom\":[0.5078125,0.015625,0.265625],\"defaultTransform\":{\"position\":[0,0.125,-5.551115123125783e-17],\"rotation\":{\"x\":0,\"y\":0.2617993877991494,\"z\":0},\"scale\":[1,0.9999999999999999,0.9999999999999999]}}]}]";
                placeholderCmd = placeholderCmd.replaceAll("plchead", response.get("plchead"));
                placeholderCmd = placeholderCmd.replaceAll("plcbody1", response.get("plcbody1"));
                placeholderCmd = placeholderCmd.replaceAll("plcbody2", response.get("plcbody2"));
                placeholderCmd = placeholderCmd.replaceAll("plcleft_arm1", response.get("plcleft_arm1"));
                placeholderCmd = placeholderCmd.replaceAll("plcleft_arm2", response.get("plcleft_arm2"));
                placeholderCmd = placeholderCmd.replaceAll("plcright_arm1", response.get("plcright_arm1"));
                placeholderCmd = placeholderCmd.replaceAll("plcright_arm2", response.get("plcright_arm2"));
                placeholderCmd = placeholderCmd.replaceAll("plcleft_leg1", response.get("plcleft_leg1"));
                placeholderCmd = placeholderCmd.replaceAll("plcleft_leg2", response.get("plcleft_leg2"));
                placeholderCmd = placeholderCmd.replaceAll("plcright_leg1", response.get("plcright_leg1"));
                placeholderCmd = placeholderCmd.replaceAll("plcright_leg2", response.get("plcright_leg2"));
                placeholderModel = placeholderModel.replaceAll("plchead", response.get("plchead"));
                placeholderModel = placeholderModel.replaceAll("plcbody1", response.get("plcbody1"));
                placeholderModel = placeholderModel.replaceAll("plcbody2", response.get("plcbody2"));
                placeholderModel = placeholderModel.replaceAll("plcleft_arm1", response.get("plcleft_arm1"));
                placeholderModel = placeholderModel.replaceAll("plcleft_arm2", response.get("plcleft_arm2"));
                placeholderModel = placeholderModel.replaceAll("plcright_arm1", response.get("plcright_arm1"));
                placeholderModel = placeholderModel.replaceAll("plcright_arm2", response.get("plcright_arm2"));
                placeholderModel = placeholderModel.replaceAll("plcleft_leg1", response.get("plcleft_leg1"));
                placeholderModel = placeholderModel.replaceAll("plcleft_leg2", response.get("plcleft_leg2"));
                placeholderModel = placeholderModel.replaceAll("plcright_leg1", response.get("plcright_leg1"));
                placeholderModel = placeholderModel.replaceAll("plcright_leg2", response.get("plcright_leg2"));

                String timeStamp = new SimpleDateFormat("HH-mm-ss").format(new Date());


                showDialog("sleep_cmd_"+timeStamp+".txt", placeholderCmd, "sleep_model_"+timeStamp+".bdengine", placeholderModel);
            });
        }

        void upPlushe() {
            GenerateModelThread.uploadSkins(this.baseSkin, this.client, "Plushe").thenAcceptAsync(response -> {
                String placeholderCmd = "/summon block_display ~-0.5 ~-0.5 ~-0.5 {Passengers:[{id:\"minecraft:item_display\",item:{id:\"minecraft:player_head\",Count:1,components:{\"minecraft:profile\":{id:[I;-55818088,-1782047674,1623097107,-1332018805],properties:[{name:\"textures\",value:\"plchead\"}]}}},item_display:\"none\",transformation:[-1f,0f,0f,0.5f,0f,1f,0f,1f,0f,0f,-1f,0.405f,0f,0f,0f,1f]},{id:\"minecraft:item_display\",item:{id:\"minecraft:player_head\",Count:1,components:{\"minecraft:profile\":{id:[I;-2117335698,-473887634,1501157238,-1164528384],properties:[{name:\"textures\",value:\"plcleft_arm1\"}]}}},item_display:\"none\",transformation:[-0.3386f,-0.0597f,0.0656f,0.7561f,-0.0608f,0.3447f,0f,0.5067f,-0.0646f,-0.0114f,-0.3438f,0.3972f,0f,0f,0f,1f]},{id:\"minecraft:item_display\",item:{id:\"minecraft:player_head\",Count:1,components:{\"minecraft:profile\":{id:[I;1639196371,-1438552114,-1761276999,-152680809],properties:[{name:\"textures\",value:\"plcleft_arm2\"}]}}},item_display:\"none\",transformation:[-0.3386f,-0.1194f,0.0656f,0.7859f,-0.0608f,0.6894f,0f,0.3343f,-0.0646f,-0.0228f,-0.3438f,0.4029f,0f,0f,0f,1f]},{id:\"minecraft:item_display\",item:{id:\"minecraft:player_head\",Count:1,components:{\"minecraft:profile\":{id:[I;1398708811,-1761993749,1735204421,1916673543],properties:[{name:\"textures\",value:\"plcbody1\"}]}}},item_display:\"none\",transformation:[-0.76f,0f,0f,0.4981f,0f,0.65f,0f,0.4926f,0f,0f,-0.375f,0.4004f,0f,0f,0f,1f]},{id:\"minecraft:item_display\",item:{id:\"minecraft:player_head\",Count:1,components:{\"minecraft:profile\":{id:[I;1682599109,-1544260749,-462130361,1269951256],properties:[{name:\"textures\",value:\"plcbody2\"}]}}},item_display:\"none\",transformation:[-0.76f,0f,0f,0.4981f,0f,0.325f,0f,0.1676f,0f,0f,-0.375f,0.4004f,0f,0f,0f,1f]},{id:\"minecraft:item_display\",item:{id:\"minecraft:player_head\",Count:1,components:{\"minecraft:profile\":{id:[I;1804871159,-1859310909,-124063484,-1592898927],properties:[{name:\"textures\",value:\"plcright_leg1\"}]}}},item_display:\"none\",transformation:[-0.3622f,0.1941f,0f,0.4345f,0f,0f,-0.375f,0.0879f,-0.0971f,-0.7244f,0f,0.3609f,0f,0f,0f,1f]},{id:\"minecraft:item_display\",item:{id:\"minecraft:player_head\",Count:1,components:{\"minecraft:profile\":{id:[I;776829291,-927915836,2085834805,-81065057],properties:[{name:\"textures\",value:\"plcright_leg2\"}]}}},item_display:\"none\",transformation:[-0.3622f,0.0971f,0f,0.337f,0f,0f,-0.375f,0.0879f,-0.0971f,-0.3622f,0f,0.7249f,0f,0f,0f,1f]},{id:\"minecraft:item_display\",item:{id:\"minecraft:player_head\",Count:1,components:{\"minecraft:profile\":{id:[I;84370037,-451192513,2067671505,-1046007361],properties:[{name:\"textures\",value:\"plcleft_leg1\"}]}}},item_display:\"none\",transformation:[-0.3622f,-0.1941f,0f,0.5487f,0f,0f,-0.375f,0.0879f,0.0971f,-0.7244f,0f,0.3625f,0f,0f,0f,1f]},{id:\"minecraft:item_display\",item:{id:\"minecraft:player_head\",Count:1,components:{\"minecraft:profile\":{id:[I;1691806214,212872248,-1828665610,886084182],properties:[{name:\"textures\",value:\"plcleft_leg2\"}]}}},item_display:\"none\",transformation:[-0.3622f,-0.0971f,0f,0.6462f,0f,0f,-0.375f,0.0879f,0.0971f,-0.3622f,0f,0.7265f,0f,0f,0f,1f]},{id:\"minecraft:item_display\",item:{id:\"minecraft:player_head\",Count:1,components:{\"minecraft:profile\":{id:[I;-1143194848,-812530520,1820055344,1102262980],properties:[{name:\"textures\",value:\"plcright_arm1\"}]}}},item_display:\"none\",transformation:[-0.344f,0.0483f,-0.0427f,0.2328f,0.0487f,0.3466f,0f,0.5055f,0.0422f,-0.0059f,-0.3474f,0.392f,0f,0f,0f,1f]},{id:\"minecraft:item_display\",item:{id:\"minecraft:player_head\",Count:1,components:{\"minecraft:profile\":{id:[I;1146888281,-1656207788,297910417,-294423099],properties:[{name:\"textures\",value:\"plcright_arm2\"}]}}},item_display:\"none\",transformation:[-0.344f,0.0967f,-0.0427f,0.209f,0.0487f,0.6932f,0f,0.3322f,0.0422f,-0.0119f,-0.3474f,0.3991f,0f,0f,0f,1f]}]}";
                String placeholderModel = "[{\"isCollection\":true,\"name\":\"Project\",\"nbt\":\"\",\"settings\":{\"defaultBrightness\":false},\"mainNBT\":\"\",\"transforms\":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],\"children\":[{\"isItemDisplay\":true,\"name\":\"player_head[display=none]\",\"brightness\":{\"sky\":15,\"block\":0},\"nbt\":\"\",\"tagHead\":{\"Value\":\"plchead\"},\"customTexture\":null,\"transforms\":[-1,-1.2246467991473532e-16,-1.2246467991473532e-16,0.5,-1.2246467991473532e-16,1,-1.2246467991473532e-16,1,1.2246467991473532e-16,-1.2246467991473532e-16,-1,0.405,0,0,0,1]},{\"isCollection\":true,\"name\":\"Group 2\",\"nbt\":\"\",\"transforms\":[-0.6771548701418598,-0.1194006737241468,0.13116692021000723,0.9199999999999999,-0.12155372436685091,0.6893654271085442,-8.257283745649584e-17,-0.004999999999999893,-0.12917419996154877,-0.022776896664651488,-0.6876010755100804,0.5231250000000001,0,0,0,1],\"children\":[{\"isItemDisplay\":true,\"name\":\"player_head[display=none]\",\"brightness\":{\"sky\":15,\"block\":0},\"nbt\":\"\",\"tagHead\":{\"Value\":\"plcleft_arm1\"},\"customTexture\":null,\"transforms\":[0.5,0,0,0.1328125,0,0.5,0,0.765625,0,0,0.5,0.1328125,0,0,0,1]},{\"isItemDisplay\":true,\"name\":\"player_head[display=none]\",\"brightness\":{\"sky\":15,\"block\":0},\"nbt\":\"\",\"tagHead\":{\"Value\":\"plcleft_arm2\"},\"customTexture\":null,\"transforms\":[0.5,0,0,0.1328125,0,1,0,0.515625,0,0,0.5,0.1328125,0,0,0,1]}],\"animation\":[],\"defaultTransform\":{\"position\":[0.9199999999999999,-0.004999999999999893,0.5231250000000001],\"rotation\":{\"x\":3.141592653589793,\"y\":0.188495559215388,\"z\":2.9670597283903604},\"scale\":[0.6999999999999983,0.6999999999999985,0.6999999999999984]}},{\"isCollection\":true,\"name\":\"Group 3\",\"nbt\":\"\",\"transforms\":[-0.76,-7.960204194457797e-17,-9.184850993605147e-17,0.7,-9.307315673519885e-17,0.65,-9.184850993605148e-17,0,9.307315673519882e-17,-7.960204194457797e-17,-0.75,0.5,0,0,0,1],\"children\":[{\"isItemDisplay\":true,\"name\":\"player_head[display=none]\",\"brightness\":{\"sky\":15,\"block\":0},\"nbt\":\"\",\"tagHead\":{\"Value\":\"plcbody1\"},\"customTexture\":null,\"transforms\":[1,0,0,0.265625,0,1,0,0.7578125,0,0,0.5,0.1328125,0,0,0,1]},{\"isItemDisplay\":true,\"name\":\"player_head[display=none]\",\"brightness\":{\"sky\":15,\"block\":0},\"nbt\":\"\",\"tagHead\":{\"Value\":\"plcbody2\"},\"customTexture\":null,\"transforms\":[1,0,0,0.265625,0,0.5,0,0.2578125,0,0,0.5,0.1328125,0,0,0,1]}],\"animation\":[],\"defaultTransform\":{\"position\":[0.7,0,0.5],\"rotation\":{\"x\":3.141592653589793,\"y\":-1.224646799147353e-16,\"z\":3.141592653589793},\"scale\":[0.76,0.65,0.75]}},{\"isCollection\":true,\"name\":\"Group 4\",\"nbt\":\"\",\"transforms\":[-0.7244443697167996,0.1941142838268905,-2.289834988289384e-16,0.38312499999999994,6.245004513516492e-17,-6.66133814775094e-16,-0.7499999999999996,0.1875,-0.19411428382689003,-0.7244443697168014,6.661338147750935e-16,0.9375,0,0,0,1],\"children\":[{\"isItemDisplay\":true,\"name\":\"player_head[display=none]\",\"brightness\":{\"sky\":15,\"block\":0},\"nbt\":\"\",\"tagHead\":{\"Value\":\"plcright_leg1\"},\"customTexture\":null,\"transforms\":[0.5,0,0,0.1328125,0,1,0,0.7603125,0,0,0.5,0.1328125,0,0,0,1]},{\"isItemDisplay\":true,\"name\":\"player_head[display=none]\",\"brightness\":{\"sky\":15,\"block\":0},\"nbt\":\"\",\"tagHead\":{\"Value\":\"plcright_leg2\"},\"customTexture\":null,\"transforms\":[0.5,0,0,0.1328125,0,0.5,0,0.2578125,0,0,0.5,0.1328125,0,0,0,1]}],\"animation\":[],\"defaultTransform\":{\"position\":[0.38312499999999994,0.1875,0.9375],\"rotation\":{\"x\":1.5707963267948957,\"y\":-3.3306690738754696e-16,\"z\":-2.879793265790644},\"scale\":[0.7499999999999983,0.7500000000000001,0.7499999999999996]}},{\"isCollection\":true,\"name\":\"Group 5\",\"nbt\":\"\",\"transforms\":[-0.7244443697167996,-0.19411428382688994,-5.828670879282057e-16,0.7925,6.036837696399275e-16,8.326672684688656e-17,-0.749999999999998,0.1875,0.19411428382689,-0.7244443697167996,3.330669073875461e-16,0.8875000000000001,0,0,0,1],\"children\":[{\"isItemDisplay\":true,\"name\":\"player_head[display=none]\",\"brightness\":{\"sky\":15,\"block\":0},\"nbt\":\"\",\"tagHead\":{\"Value\":\"plcleft_leg1\"},\"customTexture\":null,\"transforms\":[0.5,0,0,0.1328125,0,1,0,0.7603125,0,0,0.5,0.1328125,0,0,0,1]},{\"isItemDisplay\":true,\"name\":\"player_head[display=none]\",\"brightness\":{\"sky\":15,\"block\":0},\"nbt\":\"\",\"tagHead\":{\"Value\":\"plcleft_leg2\"},\"customTexture\":null,\"transforms\":[0.5,0,0,0.1328125,0,0.5,0,0.2578125,0,0,0.5,0.1328125,0,0,0,1]}],\"animation\":[],\"defaultTransform\":{\"position\":[0.7925,0.1875,0.8875000000000001],\"rotation\":{\"x\":1.5707963267948966,\"y\":-8.049116928532385e-16,\"z\":2.879793265790644},\"scale\":[0.7499999999999983,0.7499999999999983,0.7499999999999981]}},{\"isCollection\":true,\"name\":\"Group 5\",\"nbt\":\"\",\"transforms\":[-0.6880207325059082,0.09669500803893168,-0.0853085403836031,0.26187499999999997,0.09742117067204568,0.6931876481190992,-8.500145032286315e-17,-0.038124999999999964,0.084478323532833,-0.01187265410356318,-0.6947823061489219,0.48625,0,0,0,1],\"children\":[{\"isItemDisplay\":true,\"name\":\"player_head[display=none]\",\"brightness\":{\"sky\":15,\"block\":0},\"nbt\":\"\",\"tagHead\":{\"Value\":\"plcright_arm1\"},\"customTexture\":null,\"transforms\":[0.5,-1.9515639104739084e-18,-3.4694469519536138e-18,0.13271129767659218,1.9515639104739088e-18,0.49999999999999994,-6.770847460736377e-36,0.7656392230590056,3.469446951953614e-18,-6.770847460736377e-36,0.49999999999999994,0.13874999999999998,0,0,0,1]},{\"isItemDisplay\":true,\"name\":\"player_head[display=none]\",\"brightness\":{\"sky\":15,\"block\":0},\"nbt\":\"\",\"tagHead\":{\"Value\":\"plcright_arm2\"},\"customTexture\":null,\"transforms\":[0.49999999999999983,-1.7997756063259383e-17,1.7347234759768077e-17,0.13281249999999994,8.99887803162969e-18,0.9999999999999999,-3.4694469519536138e-18,0.5156249999999999,-1.734723475976808e-17,6.93889390390723e-18,0.4999999999999997,0.1328125000000001,0,0,0,1]}],\"animation\":[],\"defaultTransform\":{\"position\":[0.26187499999999997,-0.038124999999999964,0.48625],\"rotation\":{\"x\":3.141592653589793,\"y\":-0.12217304763960346,\"z\":-3.0019663134302466},\"scale\":[0.6999999999999976,0.7,0.6999999999999967]}}]}]";
                placeholderCmd = placeholderCmd.replaceAll("plchead", response.get("plchead"));
                placeholderCmd = placeholderCmd.replaceAll("plcbody1", response.get("plcbody1"));
                placeholderCmd = placeholderCmd.replaceAll("plcbody2", response.get("plcbody2"));
                placeholderCmd = placeholderCmd.replaceAll("plcleft_arm1", response.get("plcleft_arm1"));
                placeholderCmd = placeholderCmd.replaceAll("plcleft_arm2", response.get("plcleft_arm2"));
                placeholderCmd = placeholderCmd.replaceAll("plcright_arm1", response.get("plcright_arm1"));
                placeholderCmd = placeholderCmd.replaceAll("plcright_arm2", response.get("plcright_arm2"));
                placeholderCmd = placeholderCmd.replaceAll("plcleft_leg1", response.get("plcleft_leg1"));
                placeholderCmd = placeholderCmd.replaceAll("plcleft_leg2", response.get("plcleft_leg2"));
                placeholderCmd = placeholderCmd.replaceAll("plcright_leg1", response.get("plcright_leg1"));
                placeholderCmd = placeholderCmd.replaceAll("plcright_leg2", response.get("plcright_leg2"));
                placeholderModel = placeholderModel.replaceAll("plchead", response.get("plchead"));
                placeholderModel = placeholderModel.replaceAll("plcbody1", response.get("plcbody1"));
                placeholderModel = placeholderModel.replaceAll("plcbody2", response.get("plcbody2"));
                placeholderModel = placeholderModel.replaceAll("plcleft_arm1", response.get("plcleft_arm1"));
                placeholderModel = placeholderModel.replaceAll("plcleft_arm2", response.get("plcleft_arm2"));
                placeholderModel = placeholderModel.replaceAll("plcright_arm1", response.get("plcright_arm1"));
                placeholderModel = placeholderModel.replaceAll("plcright_arm2", response.get("plcright_arm2"));
                placeholderModel = placeholderModel.replaceAll("plcleft_leg1", response.get("plcleft_leg1"));
                placeholderModel = placeholderModel.replaceAll("plcleft_leg2", response.get("plcleft_leg2"));
                placeholderModel = placeholderModel.replaceAll("plcright_leg1", response.get("plcright_leg1"));
                placeholderModel = placeholderModel.replaceAll("plcright_leg2", response.get("plcright_leg2"));

                String timeStamp = new SimpleDateFormat("HH-mm-ss").format(new Date());

                showDialog("plushe_cmd_"+timeStamp+".txt", placeholderCmd, "plushe_model_"+timeStamp+".bdengine", placeholderModel);
            });
        }

        void upMojang() {

            GenerateModelThread.uploadSkins(this.baseSkin, this.client, "Mojang").thenAcceptAsync(response -> {
                String placeholderCmd = "/summon block_display ~-0.5 ~-0.5 ~-0.5 {Passengers:[{id:\"minecraft:item_display\",item:{id:\"minecraft:player_head\",Count:1,components:{\"minecraft:profile\":{id:[I;-1039546707,1430076149,-2133728465,-646061287],properties:[{name:\"textures\",value:\"plcleft_leg1\"}]}}},item_display:\"none\",transformation:[0.4989578091f,0.0482150575f,0.002755937f,-0.1294487753f,-0.0322661541f,0.745588686f,0.0426172977f,0.7640049204f,0f,-0.0653668071f,0.4881354021f,0.0599617657f,0f,0f,0f,1f]},{id:\"minecraft:item_display\",item:{id:\"minecraft:player_head\",Count:1,components:{\"minecraft:profile\":{id:[I;-1876677724,-480801547,1950833422,1745386750],properties:[{name:\"textures\",value:\"plcleft_leg2\"}]}}},item_display:\"none\",transformation:[0.4989578091f,0.0241075288f,0.002755937f,-0.1536768417f,-0.0322661541f,0.372794343f,0.0426172977f,0.3893466056f,0f,-0.0326834035f,0.4881354021f,0.0928085862f,0f,0f,0f,1f]},{id:\"minecraft:item_display\",item:{id:\"minecraft:player_head\",Count:1,components:{\"minecraft:profile\":{id:[I;259406332,-2126732987,1735869138,1522357881],properties:[{name:\"textures\",value:\"plcright_leg1\"}]}}},item_display:\"none\",transformation:[0.4994030687f,-0.0364298848f,0.002543578f,0.1200064813f,0.0244128327f,0.7469989623f,-0.0366774431f,0.7634448614f,-0.0007672042f,0.056262011f,0.4886187628f,0.0642372805f,0f,0f,0f,1f]},{id:\"minecraft:item_display\",item:{id:\"minecraft:player_head\",Count:1,components:{\"minecraft:profile\":{id:[I;-1143471773,-119941970,2098999676,-575955024],properties:[{name:\"textures\",value:\"plcright_leg2\"}]}}},item_display:\"none\",transformation:[0.4994030687f,-0.0182149424f,0.002543578f,0.1383124983f,0.0244128327f,0.3734994811f,-0.0366774431f,0.3880778828f,-0.0007672042f,0.0281310055f,0.4886187628f,0.03596562f,0f,0f,0f,1f]},{id:\"minecraft:item_display\",item:{id:\"minecraft:player_head\",Count:1,components:{\"minecraft:profile\":{id:[I;-1671176149,569605972,-590198846,-1729659445],properties:[{name:\"textures\",value:\"plcbody1\"}]}}},item_display:\"none\",transformation:[1f,0f,0f,0f,0f,0.75f,0f,1.30859375f,0f,0f,0.5f,0.0625f,0f,0f,0f,1f]},{id:\"minecraft:item_display\",item:{id:\"minecraft:player_head\",Count:1,components:{\"minecraft:profile\":{id:[I;-1350170202,-1848907229,-1106479104,1565748197],properties:[{name:\"textures\",value:\"plcbody2\"}]}}},item_display:\"none\",transformation:[1f,0f,0f,0f,0f,0.375f,0f,0.93359375f,0f,0f,0.5f,0.0625f,0f,0f,0f,1f]},{id:\"minecraft:item_display\",item:{id:\"minecraft:player_head\",Count:1,components:{\"minecraft:profile\":{id:[I;1730401098,-946393240,1720107148,1474502381],properties:[{name:\"textures\",value:\"plcright_arm1\"}]}}},item_display:\"none\",transformation:[0.373627506f,-0.0320430685f,0.0011380461f,0.3442311512f,0.0317567158f,0.3713838138f,0.0548221178f,1.3079289676f,-0.0043586416f,-0.0408938211f,0.4969841449f,0.0538599858f,0f,0f,0f,1f]},{id:\"minecraft:item_display\",item:{id:\"minecraft:player_head\",Count:1,components:{\"minecraft:profile\":{id:[I;-152939718,-1083361222,-591005142,-1245510484],properties:[{name:\"textures\",value:\"plcright_arm2\"}]}}},item_display:\"none\",transformation:[0.373627506f,-0.0640861369f,0.0011380461f,0.3602526854f,0.0317567158f,0.7427676276f,0.0548221178f,1.1222370607f,-0.0043586416f,-0.0817876422f,0.4969841449f,0.0743068963f,0f,0f,0f,1f]},{id:\"minecraft:item_display\",item:{id:\"minecraft:player_head\",Count:1,components:{\"minecraft:profile\":{id:[I;2048537024,1461418603,-135921995,1810042006],properties:[{name:\"textures\",value:\"plcleft_arm1\"}]}}},item_display:\"none\",transformation:[0.3740823657f,0.0262066543f,0.001028458f,-0.342732248f,-0.0259640889f,0.3718308519f,-0.0548563153f,1.3016480722f,-0.0036400258f,0.0409881545f,0.4969806102f,0.0694317043f,0f,0f,0f,1f]},{id:\"minecraft:item_display\",item:{id:\"minecraft:player_head\",Count:1,components:{\"minecraft:profile\":{id:[I;-1240549952,-339133270,-1885242204,128850375],properties:[{name:\"textures\",value:\"plcleft_arm2\"}]}}},item_display:\"none\",transformation:[0.3740823657f,0.0524133087f,0.001028458f,-0.3558355752f,-0.0259640889f,0.7436617039f,-0.0548563153f,1.1157326462f,-0.0036400258f,0.081976309f,0.4969806102f,0.048937627f,0f,0f,0f,1f]},{id:\"minecraft:item_display\",item:{id:\"minecraft:player_head\",Count:1,components:{\"minecraft:profile\":{id:[I;-413316501,828116799,1396552714,-1886128421],properties:[{name:\"textures\",value:\"plchead\"}]}}},item_display:\"none\",transformation:[2f,0f,0f,0.001875f,0f,1.9935577569f,0.1603978487f,2.296783897f,0f,-0.1603978487f,1.9935577569f,0.0043336385f,0f,0f,0f,1f]}]}";
                String placeholderModel = "[{\"isCollection\":true,\"name\":\"Project\",\"nbt\":\"\",\"transforms\":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],\"children\":[{\"isCollection\":true,\"name\":\"Left Leg\",\"nbt\":\"\",\"transforms\":[0.997915618272179,0.048215057502914195,0.00551187403186724,-0.299375,-0.06453230825295797,0.7455886860492682,0.08523459537180035,0.194375,8.673617379884035e-19,-0.06536680706074369,0.9762708041299106,-0.02,0,0,0,1],\"children\":[{\"isItemDisplay\":true,\"name\":\"player_head[display=none]\",\"brightness\":{\"sky\":15,\"block\":0},\"nbt\":\"\",\"tagHead\":{\"Value\":\"plcleft_leg1\"},\"textureValueList\":[],\"paintTexture\":null,\"transforms\":[0.5,0,0,0.1328125,0,1,0,0.7603125,0,0,0.5,0.1328125,0,0,0,1],\"defaultTextureValue\":\"plcleft_leg1\"},{\"isItemDisplay\":true,\"name\":\"player_head[display=none]\",\"brightness\":{\"sky\":15,\"block\":0},\"nbt\":\"\",\"tagHead\":{\"Value\":\"plcleft_leg2\"},\"textureValueList\":[],\"paintTexture\":null,\"transforms\":[0.5,0,0,0.1328125,0,0.5,0,0.2578125,0,0,0.5,0.1328125,0,0,0,1],\"defaultTextureValue\":\"plcleft_leg2\"}],\"defaultTransform\":{\"position\":[-0.299375,0.194375,-0.02],\"rotation\":{\"x\":-0.08708548519193789,\"y\":0.005624390910411478,\"z\":-0.06433212538059417},\"scale\":[1,0.75,0.98]}},{\"isCollection\":true,\"name\":\"Right Leg\",\"nbt\":\"\",\"transforms\":[0.9988061373414341,-0.036429884752462345,0.005087155913873167,0.014375,0.0488256653830706,0.7469989622604459,-0.07335488622529154,0.19875,-0.001534408350072092,0.05626201097311692,0.9772375256362101,-0.108125,0,0,0,1],\"children\":[{\"isItemDisplay\":true,\"name\":\"player_head[display=none]\",\"brightness\":{\"sky\":15,\"block\":0},\"nbt\":\"\",\"tagHead\":{\"Value\":\"plcright_leg1\"},\"textureValueList\":[],\"paintTexture\":null,\"transforms\":[0.5,0,0,0.1328125,0,1,0,0.7603125,0,0,0.5,0.1328125,0,0,0,1],\"defaultTextureValue\":\"plcright_leg1\"},{\"isItemDisplay\":true,\"name\":\"player_head[display=none]\",\"brightness\":{\"sky\":15,\"block\":0},\"nbt\":\"\",\"tagHead\":{\"Value\":\"plcright_leg2\"},\"textureValueList\":[],\"paintTexture\":null,\"transforms\":[0.5,0,0,0.1328125,0,0.5,0,0.2578125,0,0,0.5,0.1328125,0,0,0,1],\"defaultTextureValue\":\"plcright_leg2\"}],\"defaultTransform\":{\"position\":[0.014375,0.19875,-0.108125],\"rotation\":{\"x\":0.07492300974414268,\"y\":0.0051909987354682545,\"z\":0.04859295541513011},\"scale\":[1,0.75,0.98]}},{\"isCollection\":true,\"name\":\"Torso\",\"nbt\":\"\",\"transforms\":[1,0,0,-0.265625,0,0.75,0,0.740234375,0,0,1,-0.0703125,0,0,0,1],\"children\":[{\"isItemDisplay\":true,\"name\":\"player_head[display=none]\",\"brightness\":{\"sky\":15,\"block\":0},\"nbt\":\"\",\"tagHead\":{\"Value\":\"plcbody1\"},\"textureValueList\":[],\"paintTexture\":null,\"transforms\":[1,0,0,0.265625,0,1,0,0.7578125,0,0,0.5,0.1328125,0,0,0,1],\"defaultTextureValue\":\"plcbody1\"},{\"isItemDisplay\":true,\"name\":\"player_head[display=none]\",\"brightness\":{\"sky\":15,\"block\":0},\"nbt\":\"\",\"tagHead\":{\"Value\":\"plcbody2\"},\"textureValueList\":[],\"paintTexture\":null,\"transforms\":[1,0,0,0.265625,0,0.5,0,0.2578125,0,0,0.5,0.1328125,0,0,0,1],\"defaultTextureValue\":\"plcbody2\"}],\"defaultTransform\":{\"position\":[-0.265625,0.740234375,-0.0703125],\"rotation\":{\"x\":0,\"y\":0,\"z\":0},\"scale\":[1,0.75,1]}},{\"isCollection\":true,\"name\":\"Right Arm\",\"nbt\":\"\",\"transforms\":[0.7472550120063941,-0.06408613692535084,0.0022760922882428328,0.29375,0.06351343169398063,0.7427676276227022,0.10964423560019082,0.71625,-0.008717283164937712,-0.08178764215777404,0.9939682897374265,-0.014375,0,0,0,1],\"children\":[{\"isItemDisplay\":true,\"name\":\"player_head[display=none]\",\"brightness\":{\"sky\":15,\"block\":0},\"nbt\":\"\",\"tagHead\":{\"Value\":\"plcright_arm1\"},\"textureValueList\":[],\"paintTexture\":null,\"transforms\":[0.5,0,0,0.1328125,0,0.5,0,0.765625,0,0,0.5,0.1328125,0,0,0,1],\"defaultTextureValue\":\"plcright_arm1\"},{\"isItemDisplay\":true,\"name\":\"player_head[display=none]\",\"brightness\":{\"sky\":15,\"block\":0},\"nbt\":\"\",\"tagHead\":{\"Value\":\"plcright_arm2\"},\"textureValueList\":[],\"paintTexture\":null,\"transforms\":[0.5,0,0,0.1328125,0,1,0,0.515625,0,0,0.5,0.1328125,0,0,0,1],\"defaultTextureValue\":\"plcright_arm2\"}],\"defaultTransform\":{\"position\":[0.29375,0.71625,-0.014375],\"rotation\":{\"x\":-0.10986540629815844,\"y\":0.002276094253499889,\"z\":0.0855527296323138},\"scale\":[0.7499999999999999,0.7500000000000001,0.9999999999999997]}},{\"isCollection\":true,\"name\":\"Left Arm\",\"nbt\":\"\",\"transforms\":[0.7481647313207183,0.052413308657656435,0.0020569160755938417,-0.4825,-0.05192817785360102,0.7436617038983862,-0.10971263068988694,0.75375,-0.0072800516895446185,0.08197630895878509,0.9939612204524689,-0.124375,0,0,0,1],\"children\":[{\"isItemDisplay\":true,\"name\":\"player_head[display=none]\",\"brightness\":{\"sky\":15,\"block\":0},\"nbt\":\"\",\"tagHead\":{\"Value\":\"plcleft_arm1\"},\"textureValueList\":[],\"paintTexture\":null,\"transforms\":[0.5,0,0,0.1328125,0,0.5,0,0.765625,0,0,0.5,0.1328125,0,0,0,1],\"defaultTextureValue\":\"plcleft_arm1\"},{\"isItemDisplay\":true,\"name\":\"player_head[display=none]\",\"brightness\":{\"sky\":15,\"block\":0},\"nbt\":\"\",\"tagHead\":{\"Value\":\"plcleft_arm2\"},\"textureValueList\":[],\"paintTexture\":null,\"transforms\":[0.5,0,0,0.1328125,0,1,0,0.515625,0,0,0.5,0.1328125,0,0,0,1],\"defaultTextureValue\":\"plcleft_arm2\"}],\"defaultTransform\":{\"position\":[-0.4825,0.75375,-0.124375],\"rotation\":{\"x\":0.1099341642784476,\"y\":0.002056917526032257,\"z\":-0.06994156906560929},\"scale\":[0.7500000000000001,0.7499999999999999,0.9999999999999996]}},{\"isCollection\":true,\"name\":\"Head\",\"nbt\":\"\",\"transforms\":[2,0,0,-0.529375,0,1.9935577569124936,0.1603978486577179,1.22625,0,-0.1603978486577179,1.9935577569124936,-0.4425,0,0,0,1],\"children\":[{\"isItemDisplay\":true,\"name\":\"player_head[display=none]\",\"brightness\":{\"sky\":15,\"block\":0},\"nbt\":\"\",\"tagHead\":{\"Value\":\"plchead\"},\"textureValueList\":[],\"paintTexture\":null,\"transforms\":[1,0,0,0.265625,0,1,0,0.515625,0,0,1,0.265625,0,0,0,1],\"defaultTextureValue\":\"plchead\"}],\"defaultTransform\":{\"position\":[-0.529375,1.22625,-0.4425],\"rotation\":{\"x\":-0.08028514559173922,\"y\":0,\"z\":0},\"scale\":[2,1.9999999999999993,1.9999999999999993]}}]}]";
                placeholderCmd = placeholderCmd.replaceAll("plchead", response.get("plchead"));
                placeholderCmd = placeholderCmd.replaceAll("plcbody1", response.get("plcbody1"));
                placeholderCmd = placeholderCmd.replaceAll("plcbody2", response.get("plcbody2"));
                placeholderCmd = placeholderCmd.replaceAll("plcleft_arm1", response.get("plcleft_arm1"));
                placeholderCmd = placeholderCmd.replaceAll("plcleft_arm2", response.get("plcleft_arm2"));
                placeholderCmd = placeholderCmd.replaceAll("plcright_arm1", response.get("plcright_arm1"));
                placeholderCmd = placeholderCmd.replaceAll("plcright_arm2", response.get("plcright_arm2"));
                placeholderCmd = placeholderCmd.replaceAll("plcleft_leg1", response.get("plcleft_leg1"));
                placeholderCmd = placeholderCmd.replaceAll("plcleft_leg2", response.get("plcleft_leg2"));
                placeholderCmd = placeholderCmd.replaceAll("plcright_leg1", response.get("plcright_leg1"));
                placeholderCmd = placeholderCmd.replaceAll("plcright_leg2", response.get("plcright_leg2"));
                placeholderModel = placeholderModel.replaceAll("plchead", response.get("plchead"));
                placeholderModel = placeholderModel.replaceAll("plcbody1", response.get("plcbody1"));
                placeholderModel = placeholderModel.replaceAll("plcbody2", response.get("plcbody2"));
                placeholderModel = placeholderModel.replaceAll("plcleft_arm1", response.get("plcleft_arm1"));
                placeholderModel = placeholderModel.replaceAll("plcleft_arm2", response.get("plcleft_arm2"));
                placeholderModel = placeholderModel.replaceAll("plcright_arm1", response.get("plcright_arm1"));
                placeholderModel = placeholderModel.replaceAll("plcright_arm2", response.get("plcright_arm2"));
                placeholderModel = placeholderModel.replaceAll("plcleft_leg1", response.get("plcleft_leg1"));
                placeholderModel = placeholderModel.replaceAll("plcleft_leg2", response.get("plcleft_leg2"));
                placeholderModel = placeholderModel.replaceAll("plcright_leg1", response.get("plcright_leg1"));
                placeholderModel = placeholderModel.replaceAll("plcright_leg2", response.get("plcright_leg2"));

                String timeStamp = new SimpleDateFormat("HH-mm-ss").format(new Date());


                showDialog("mojang_cmd_"+timeStamp+".txt", placeholderCmd, "mojang_model_"+timeStamp+".bdengine", placeholderModel);
            });
        }

        static CompletableFuture<Map<String, String>> uploadSkins(BufferedImage baseskin, MineSkinClient client, String modelType) {
            HashMap<String, CompletableFuture> futureMap = new HashMap<String, CompletableFuture>();
            try {
                futureMap.put("plchead", SkinManager.uploadToMineSkin(baseskin, client));
                sendLogBlue(modelType + " generated: 9%");
                Thread.sleep(5500L);
                futureMap.put("plcbody1", SkinManager.uploadToMineSkin(SkinManager.getBody1(baseskin), client));
                sendLogBlue(modelType + " generated: 18%");
                Thread.sleep(5500L);
                futureMap.put("plcbody2", SkinManager.uploadToMineSkin(SkinManager.getBody2(baseskin), client));
                sendLogBlue(modelType + " generated: 27%");
                Thread.sleep(5500L);
                futureMap.put("plcleft_arm1", SkinManager.uploadToMineSkin(SkinManager.getNewLeftArm1(baseskin), client));
                sendLogBlue(modelType + " generated: 36%");
                Thread.sleep(5500L);
                futureMap.put("plcleft_arm2", SkinManager.uploadToMineSkin(SkinManager.getNewLeftArm2(baseskin), client));
                sendLogBlue(modelType + " generated: 45%");
                Thread.sleep(5500L);
                futureMap.put("plcright_arm1", SkinManager.uploadToMineSkin(SkinManager.getNewRightArm1(baseskin), client));
                sendLogBlue(modelType + " generated: 54%");
                Thread.sleep(5500L);
                futureMap.put("plcright_arm2", SkinManager.uploadToMineSkin(SkinManager.getNewRightArm2(baseskin), client));
                sendLogBlue(modelType + " generated: 63%");
                Thread.sleep(5500L);
                futureMap.put("plcleft_leg1", SkinManager.uploadToMineSkin(SkinManager.getLeftLeg1(baseskin), client));
                sendLogBlue(modelType + " generated: 72%");
                Thread.sleep(5500L);
                futureMap.put("plcleft_leg2", SkinManager.uploadToMineSkin(SkinManager.getLeftLeg2(baseskin), client));
                sendLogBlue(modelType + " generated: 81%");
                Thread.sleep(5500L);
                futureMap.put("plcright_leg1", SkinManager.uploadToMineSkin(SkinManager.getRightLeg1(baseskin), client));
                sendLogBlue(modelType + " generated: 90%");
                Thread.sleep(5500L);
                futureMap.put("plcright_leg2", SkinManager.uploadToMineSkin(SkinManager.getRightLeg2(baseskin), client));
                sendLogBlue(modelType + " generated: 100%");
            } catch (Exception ex) {
                ex.printStackTrace();
            }
            for (String key : futureMap.keySet()) {
                CompletableFuture completable = futureMap.get(key);
                completable.thenApply(v -> "");
            }
            CompletableFuture<Void> allFutures = CompletableFuture.allOf(futureMap.values().toArray(new CompletableFuture[0]));
            CompletionStage resultFuture = allFutures.thenApply(v -> {
                HashMap<String, String> urlMap = new HashMap<String, String>();
                for (Map.Entry entry : futureMap.entrySet()) {
                    String url = (String) ((CompletableFuture) entry.getValue()).join();
                    urlMap.put((String) entry.getKey(), url);
                }
                return urlMap;
            });
            return (CompletableFuture) resultFuture;
        }


        static CompletableFuture<Map<String, String>> uploadFakeSteve(BufferedImage baseskin, MineSkinClient client) {
            HashMap<String, CompletableFuture> futureMap = new HashMap<String, CompletableFuture>();

            BufferedImage avatar = SkinManager.createFullBodyAvatar(baseskin);

            try {
                futureMap.put("head1", SkinManager.uploadToMineSkin(SkinManager.genFakeSteve1(avatar), client));
                sendLogBlue("Fake Steve generated: 15%");
                Thread.sleep(5500L);
                futureMap.put("head2", SkinManager.uploadToMineSkin(SkinManager.genFakeSteve2(avatar), client));
                sendLogBlue("Fake Steve generated: 28%");
                Thread.sleep(5500L);
                futureMap.put("head3", SkinManager.uploadToMineSkin(SkinManager.genFakeSteve3(avatar), client));
                sendLogBlue("Fake Steve generated: 42%");
                Thread.sleep(5500L);
                futureMap.put("head4", SkinManager.uploadToMineSkin(SkinManager.genFakeSteve4(avatar), client));
                sendLogBlue("Fake Steve generated: 56%");
                Thread.sleep(5500L);
                futureMap.put("head5", SkinManager.uploadToMineSkin(SkinManager.genFakeSteve5(avatar), client));
                sendLogBlue("Fake Steve generated: 70%");
                Thread.sleep(5500L);
                futureMap.put("head6", SkinManager.uploadToMineSkin(SkinManager.genFakeSteve6(avatar), client));
                sendLogBlue("Fake Steve generated: 84%");
                Thread.sleep(5500L);
                futureMap.put("head7", SkinManager.uploadToMineSkin(SkinManager.genFakeSteve7(avatar), client));
                sendLogBlue("Fake Steve generated: 100%");
            } catch (Exception ex) {
                ex.printStackTrace();
            }
            for (String key : futureMap.keySet()) {
                CompletableFuture completable = futureMap.get(key);
                completable.thenApply(v -> "");
            }
            CompletableFuture<Void> allFutures = CompletableFuture.allOf(futureMap.values().toArray(new CompletableFuture[0]));
            CompletionStage resultFuture = allFutures.thenApply(v -> {
                HashMap<String, String> urlMap = new HashMap<String, String>();
                for (Map.Entry entry : futureMap.entrySet()) {
                    String url = (String) ((CompletableFuture) entry.getValue()).join();
                    urlMap.put((String) entry.getKey(), url);
                }
                return urlMap;
            });
            return (CompletableFuture) resultFuture;
        }

        static CompletableFuture<Map<String, String>> uploadCape(BufferedImage baseskin, MineSkinClient client) {
            HashMap<String, CompletableFuture> futureMap = new HashMap<String, CompletableFuture>();
            try {
                futureMap.put("cape1", SkinManager.uploadToMineSkin(SkinManager.getCape1(baseskin), client));
                sendLogBlue("Cape generated: 25%");
                Thread.sleep(2500L);
                futureMap.put("cape2", SkinManager.uploadToMineSkin(SkinManager.getCape2(baseskin), client));
                sendLogBlue("Cape generated: 50%");
                Thread.sleep(2500L);
                futureMap.put("cape3", SkinManager.uploadToMineSkin(SkinManager.getCape3(baseskin), client));
                sendLogBlue("Cape generated: 75%");
                Thread.sleep(2500L);
                futureMap.put("cape4", SkinManager.uploadToMineSkin(SkinManager.getCape4(baseskin), client));
                sendLogBlue("Cape generated: 100%");
            } catch (Exception ex) {
                ex.printStackTrace();
            }
            for (String key : futureMap.keySet()) {
                CompletableFuture completable = futureMap.get(key);
                completable.thenApply(v -> "");
            }
            CompletableFuture<Void> allFutures = CompletableFuture.allOf(futureMap.values().toArray(new CompletableFuture[0]));
            CompletionStage resultFuture = allFutures.thenApply(v -> {
                HashMap<String, String> urlMap = new HashMap<String, String>();
                for (Map.Entry entry : futureMap.entrySet()) {
                    String url = (String) ((CompletableFuture) entry.getValue()).join();
                    urlMap.put((String) entry.getKey(), url);
                }
                return urlMap;
            });
            return (CompletableFuture) resultFuture;
        }

    }

}
